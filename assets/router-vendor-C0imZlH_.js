import{r as t,g as e,a as s}from"./react-vendor-BbgdciZl.js";function o(t,e){for(var s=0;s<e.length;s++){const o=e[s];if("string"!=typeof o&&!Array.isArray(o))for(const e in o)if("default"!==e&&!(e in t)){const s=Object.getOwnPropertyDescriptor(o,e);s&&Object.defineProperty(t,e,s.get?s:{enumerable:!0,get:()=>o[e]})}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var r,i,n={exports:{}},a={},c=(i||(i=1,n.exports=function(){if(r)return a;r=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(e,s,o){var r=null;if(void 0!==o&&(r=""+o),void 0!==s.key&&(r=""+s.key),"key"in s)for(var i in o={},s)"key"!==i&&(o[i]=s[i]);else o=s;return s=o.ref,{$$typeof:t,type:e,key:r,ref:void 0!==s?s:null,props:o}}return a.Fragment=e,a.jsx=s,a.jsxs=s,a}()),n.exports),l=t();const u=e(l),h=o({__proto__:null,default:u},[l]),d=new WeakMap,f=new WeakMap,p={current:[]};let m=!1,v=0;const g=new Set,y=new Map;function S(t){const e=Array.from(t).sort((t,e)=>t instanceof R&&t.options.deps.includes(e)?1:e instanceof R&&e.options.deps.includes(t)?-1:0);for(const s of e){if(p.current.includes(s))continue;p.current.push(s),s.recompute();const t=f.get(s);if(t)for(const e of t){const t=d.get(e);t&&S(t)}}}function b(t){const e={prevVal:t.prevState,currentVal:t.state};for(const s of t.listeners)s(e)}function M(t){const e={prevVal:t.prevState,currentVal:t.state};for(const s of t.listeners)s(e)}function w(t){if(v>0&&!y.has(t)&&y.set(t,t.prevState),g.add(t),!(v>0||m))try{for(m=!0;g.size>0;){const t=Array.from(g);g.clear();for(const e of t){const t=y.get(e)??e.prevState;e.prevState=t,b(e)}for(const e of t){const t=d.get(e);t&&(p.current.push(e),S(t))}for(const e of t){const t=d.get(e);if(t)for(const e of t)M(e)}}}finally{m=!1,p.current=[],y.clear()}}function _(t){v++;try{t()}finally{if(v--,0===v){const t=g.values().next().value;t&&w(t)}}}class L{constructor(t,e){this.listeners=new Set,this.subscribe=t=>{var e,s;this.listeners.add(t);const o=null==(s=null==(e=this.options)?void 0:e.onSubscribe)?void 0:s.call(e,t,this);return()=>{this.listeners.delete(t),null==o||o()}},this.prevState=t,this.state=t,this.options=e}setState(t){var e,s,o;this.prevState=this.state,(null==(e=this.options)?void 0:e.updateFn)?this.state=this.options.updateFn(this.prevState)(t):function(t){return"function"==typeof t}(t)?this.state=t(this.prevState):this.state=t,null==(o=null==(s=this.options)?void 0:s.onUpdate)||o.call(s),w(this)}}class R{constructor(t){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=this.options.deps.length,e=new Array(t),s=new Array(t);for(let o=0;o<t;o++){const t=this.options.deps[o];e[o]=t.prevState,s[o]=t.state}return this.lastSeenDepValues=s,{prevDepVals:e,currDepVals:s,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,e;this.prevState=this.state;const s=this.getDepVals();this.state=this.options.fn(s),null==(e=(t=this.options).onUpdate)||e.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const o of this.options.deps)o instanceof R&&o.checkIfRecalculationNeededDeeply();let t=!1;const e=this.lastSeenDepValues,{currDepVals:s}=this.getDepVals();for(let o=0;o<s.length;o++)if(s[o]!==e[o]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var e,s;this.listeners.add(t);const o=null==(s=(e=this.options).onSubscribe)?void 0:s.call(e,t,this);return()=>{this.listeners.delete(t),null==o||o()}},this.options=t,this.state=t.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(t=this.options.deps){for(const e of t)if(e instanceof R)e.registerOnGraph(),this.registerOnGraph(e.options.deps);else if(e instanceof L){let t=d.get(e);t||(t=new Set,d.set(e,t)),t.add(this);let s=f.get(this);s||(s=new Set,f.set(this,s)),s.add(e)}}unregisterFromGraph(t=this.options.deps){for(const e of t)if(e instanceof R)this.unregisterFromGraph(e.options.deps);else if(e instanceof L){const t=d.get(e);t&&t.delete(this);const s=f.get(this);s&&s.delete(e)}}}const P="__TSR_index",x="popstate",C="beforeunload";function E(t,e){e||(e={});const s=F();return{...e,key:s,__TSR_key:s,[P]:t}}function I(t,e){const s=t.indexOf("#"),o=t.indexOf("?"),r=F();return{href:t,pathname:t.substring(0,s>0?o>0?Math.min(s,o):s:o>0?o:t.length),hash:s>-1?t.substring(s):"",search:o>-1?t.slice(o,-1===s?void 0:s):"",state:e||{[P]:0,key:r,__TSR_key:r}}}function F(){return(Math.random()+1).toString(36).substring(7)}function V(t){return t[t.length-1]}function T(t,e){return"function"==typeof t?t(e):t}const A=Object.prototype.hasOwnProperty;function k(t,e){if(t===e)return t;const s=e,o=B(t)&&B(s);if(!(o||j(t)&&j(s)))return s;const r=o?t:O(t);if(!r)return s;const i=o?s:O(s);if(!i)return s;const n=r.length,a=i.length,c=o?new Array(a):{};let l=0;for(let u=0;u<a;u++){const e=o?u:i[u],r=t[e],a=s[e];if(r===a){c[e]=r,(o?u<n:A.call(t,e))&&l++;continue}if(null===r||null===a||"object"!=typeof r||"object"!=typeof a){c[e]=a;continue}const h=k(r,a);c[e]=h,h===r&&l++}return n===a&&l===n?t:c}function O(t){const e=[],s=Object.getOwnPropertyNames(t);for(const r of s){if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;e.push(r)}const o=Object.getOwnPropertySymbols(t);for(const r of o){if(!Object.prototype.propertyIsEnumerable.call(t,r))return!1;e.push(r)}return e}function j(t){if(!$(t))return!1;const e=t.constructor;if(void 0===e)return!0;const s=e.prototype;return!!$(s)&&!!s.hasOwnProperty("isPrototypeOf")}function $(t){return"[object Object]"===Object.prototype.toString.call(t)}function B(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function D(t,e,s){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let o=0,r=t.length;o<r;o++)if(!D(t[o],e[o],s))return!1;return!0}if(j(t)&&j(e)){const o=s?.ignoreUndefined??!0;if(s?.partial){for(const r in e)if(!(o&&void 0===e[r]||D(t[r],e[r],s)))return!1;return!0}let r=0;if(o)for(const e in t)void 0!==t[e]&&r++;else r=Object.keys(t).length;let i=0;for(const n in e)if((!o||void 0!==e[n])&&(i++,i>r||!D(t[n],e[n],s)))return!1;return r===i}return!1}function W(t){let e,s;const o=new Promise((t,o)=>{e=t,s=o});return o.status="pending",o.resolve=s=>{o.status="resolved",o.value=s,e(s),t?.(s)},o.reject=t=>{o.status="rejected",s(t)},o}function N(t){return Boolean(t&&"object"==typeof t&&"function"==typeof t.then)}function U(t,e){if(!t)throw new Error("Invariant failed")}const z="__root__";function K(t){return H(t.filter(t=>void 0!==t).join("/"))}function H(t){return t.replace(/\/{2,}/g,"/")}function G(t){return"/"===t?t:t.replace(/^\/{1,}/,"")}function q(t){return"/"===t?t:t.replace(/\/{1,}$/,"")}function J(t){return q(G(t))}function X(t,e){return t?.endsWith("/")&&"/"!==t&&t!==`${e}/`?t.slice(0,-1):t}function Y(t){const{type:e,value:s}=t;if(0===e)return s;const{prefixSegment:o,suffixSegment:r}=t;if(1===e){const t=s.substring(1);if(o&&r)return`${o}{$${t}}${r}`;if(o)return`${o}{$${t}}`;if(r)return`{$${t}}${r}`}if(3===e){const t=s.substring(1);return o&&r?`${o}{-$${t}}${r}`:o?`${o}{-$${t}}`:r?`{-$${t}}${r}`:`{-$${t}}`}if(2===e){if(o&&r)return`${o}{$}${r}`;if(o)return`${o}{$}`;if(r)return`{$}${r}`}return s}const Z=(t,e)=>tt(t,e,!0),Q=(t,e)=>tt(t,e,!1),tt=(t,e,s)=>{if(!t)return[];const o=e?.get(t);if(o)return o;const r=function(t,e){const s=[];if("/"===(t=H(t)).slice(0,1)&&(t=t.substring(1),s.push({type:0,value:"/"})),!t)return s;const o=t.split("/").filter(Boolean);return s.push(...o.map(t=>{const s=e||t===z||"_"!==t.slice(-1)?t:t.slice(0,-1),o=s.match(it);if(o)return{type:2,value:"$",prefixSegment:o[1]||void 0,suffixSegment:o[2]||void 0};const r=s.match(ot);if(r){const t=r[1];return{type:3,value:r[2],prefixSegment:t||void 0,suffixSegment:r[3]||void 0}}const i=s.match(st);if(i){const t=i[1];return{type:1,value:""+i[2],prefixSegment:t||void 0,suffixSegment:i[3]||void 0}}return et.test(s)?{type:1,value:"$"+s.substring(1),prefixSegment:void 0,suffixSegment:void 0}:rt.test(s)?{type:2,value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:0,value:s.includes("%25")?s.split("%25").map(t=>decodeURI(t)).join("%25"):decodeURI(s)}})),"/"===t.slice(-1)&&(t=t.substring(1),s.push({type:0,value:"/"})),s}(t,s);return e?.set(t,r),r},et=/^\$.{1,}$/,st=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,ot=/^(.*?)\{-(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,rt=/^\$$/,it=/^(.*?)\{\$\}(.*)$/;function nt({path:t,params:e,leaveWildcards:s,leaveParams:o,decodeCharMap:r,parseCache:i}){const n=Q(t,i);function a(t){const s=e[t],o="string"==typeof s;return"*"===t||"_splat"===t?o?encodeURI(s):s:o?function(t,e){let s=encodeURIComponent(t);if(e)for(const[o,r]of e)s=s.replaceAll(o,r);return s}(s,r):s}let c=!1;const l={},u=K(n.map(t=>{if(0===t.type)return t.value;if(2===t.type){l._splat=e._splat,l["*"]=e._splat;const o=t.prefixSegment||"",r=t.suffixSegment||"";if(!("_splat"in e))return c=!0,s?`${o}${t.value}${r}`:o||r?`${o}${r}`:void 0;const i=a("_splat");return s?`${o}${t.value}${i??""}${r}`:`${o}${i}${r}`}if(1===t.type){const s=t.value.substring(1);c||s in e||(c=!0),l[s]=e[s];const r=t.prefixSegment||"",i=t.suffixSegment||"";if(o){const e=a(t.value);return`${r}${t.value}${e??""}${i}`}return`${r}${a(s)??"undefined"}${i}`}if(3===t.type){const r=t.value.substring(1),i=t.prefixSegment||"",n=t.suffixSegment||"";if(!(r in e)||null==e[r])return s?`${i}${r}${n}`:i||n?`${i}${n}`:void 0;if(l[r]=e[r],o){const e=a(t.value);return`${i}${t.value}${e??""}${n}`}return s?`${i}${r}${a(r)??""}${n}`:`${i}${a(r)??""}${n}`}return t.value}));return{usedParams:l,interpolatedPath:u,isMissingParams:c}}function at(t,e,s){const o=function(t,{to:e,fuzzy:s,caseSensitive:o},r){const i=e,n={};return function(t,e,s,o,r){let i=0,n=0;for(;i<t.length||n<e.length;){const a=t[i],c=e[n];if(c){if(2===c.type){const e=t.slice(i);let o;if(c.prefixSegment||c.suffixSegment){if(!a)return!1;const s=c.prefixSegment||"",r=c.suffixSegment||"",i=a.value;if("prefixSegment"in c&&!i.startsWith(s))return!1;if("suffixSegment"in c&&!t[t.length-1]?.value.endsWith(r))return!1;let n=decodeURI(K(e.map(t=>t.value)));s&&n.startsWith(s)&&(n=n.slice(s.length)),r&&n.endsWith(r)&&(n=n.slice(0,n.length-r.length)),o=n}else o=decodeURI(K(e.map(t=>t.value)));return s["*"]=o,s._splat=o,!0}if(0===c.type){if("/"===c.value&&!a?.value){n++;continue}if(a){if(r){if(c.value!==a.value)return!1}else if(c.value.toLowerCase()!==a.value.toLowerCase())return!1;i++,n++;continue}return!1}if(1===c.type){if(!a)return!1;if("/"===a.value)return!1;let t="",e=!1;if(c.prefixSegment||c.suffixSegment){const s=c.prefixSegment||"",o=c.suffixSegment||"",r=a.value;if(s&&!r.startsWith(s))return!1;if(o&&!r.endsWith(o))return!1;let i=r;s&&i.startsWith(s)&&(i=i.slice(s.length)),o&&i.endsWith(o)&&(i=i.slice(0,i.length-o.length)),t=decodeURIComponent(i),e=!0}else t=decodeURIComponent(a.value),e=!0;e&&(s[c.value.substring(1)]=t,i++),n++;continue}if(3===c.type){if(!a){n++;continue}if("/"===a.value){n++;continue}let o="",r=!1;if(c.prefixSegment||c.suffixSegment){const t=c.prefixSegment||"",e=c.suffixSegment||"",s=a.value;if((!t||s.startsWith(t))&&(!e||s.endsWith(e))){let i=s;t&&i.startsWith(t)&&(i=i.slice(t.length)),e&&i.endsWith(e)&&(i=i.slice(0,i.length-e.length)),o=decodeURIComponent(i),r=!0}}else{let s=!0;for(let o=n+1;o<e.length;o++){const r=e[o];if(0===r?.type&&r.value===a.value){s=!1;break}if(1===r?.type||2===r?.type){t.length<e.length&&(s=!1);break}}s&&(o=decodeURIComponent(a.value),r=!0)}r&&(s[c.value.substring(1)]=o,i++),n++;continue}}if(i<t.length&&n>=e.length)return s["**"]=K(t.slice(i).map(t=>t.value)),!!o&&"/"!==e[e.length-1]?.value;if(n<e.length&&i>=t.length){for(let t=n;t<e.length;t++)if(3!==e[t]?.type)return!1;break}break}return!0}(Z(t.startsWith("/")?t:`/${t}`,r),Q(i.startsWith("/")?i:`/${i}`,r),n,s,o)?n:void 0}(t,e,s);if(!e.to||o)return o??{}}const ct=2e-4,lt=1e-4;function ut(t,e){return t.prefixSegment&&t.suffixSegment?e+.05+ct*t.prefixSegment.length+lt*t.suffixSegment.length:t.prefixSegment?e+.02+ct*t.prefixSegment.length:t.suffixSegment?e+.01+lt*t.suffixSegment.length:e}function ht(t){return!!t?.isNotFound}const dt="tsr-scroll-restoration-v1_3",ft=function(){const t=function(){try{if("undefined"!=typeof window&&"object"==typeof window.sessionStorage)return window.sessionStorage}catch{}}();if(!t)return null;const e=t.getItem(dt);let s=e?JSON.parse(e):{};return{state:s,set:e=>(s=T(e,s)||s,t.setItem(dt,JSON.stringify(s)))}}(),pt=t=>t.state.__TSR_key||t.href;let mt=!1;function vt({storageKey:t,key:e,behavior:s,shouldScrollRestoration:o,scrollToTopSelectors:r,location:i}){let n;try{n=JSON.parse(sessionStorage.getItem(t)||"{}")}catch(c){return}const a=n[e||window.history.state?.__TSR_key];mt=!0;t:{if(o&&a&&Object.keys(a).length>0){for(const t in a){const e=a[t];if("window"===t)window.scrollTo({top:e.scrollY,left:e.scrollX,behavior:s});else if(t){const s=document.querySelector(t);s&&(s.scrollLeft=e.scrollX,s.scrollTop=e.scrollY)}}break t}const t=(i??window.location).hash.split("#",2)[1];if(t){const e=window.history.state?.__hashScrollIntoViewOptions??!0;if(e){const s=document.getElementById(t);s&&s.scrollIntoView(e)}break t}const e={top:0,left:0,behavior:s};if(window.scrollTo(e),r)for(const s of r){if("window"===s)continue;const t="function"==typeof s?s():document.querySelector(s);t&&t.scrollTo(e)}}mt=!1}function gt(t){return t?"false"!==t&&("true"===t||(0*+t==0&&+t+""===t?+t:t)):""}const yt=(St=JSON.parse,t=>{"?"===t[0]&&(t=t.substring(1));const e=function(t){const e=new URLSearchParams(t),s={};for(const[o,r]of e.entries()){const t=s[o];null==t?s[o]=gt(r):Array.isArray(t)?t.push(gt(r)):s[o]=[t,gt(r)]}return s}(t);for(const o in e){const t=e[o];if("string"==typeof t)try{e[o]=St(t)}catch(s){}}return e});var St;const bt=function(t,e){const s="function"==typeof e;function o(o){if("object"==typeof o&&null!==o)try{return t(o)}catch(r){}else if(s&&"string"==typeof o)try{return e(o),t(o)}catch(r){}return o}return t=>{const e=function(t,e=String){const s=new URLSearchParams;for(const o in t){const r=t[o];void 0!==r&&s.set(o,e(r))}return s.toString()}(t,o);return e?`?${e}`:""}}(JSON.stringify,JSON.parse);function Mt(t){return t instanceof Response&&!!t.options}const wt=t=>{if(!t.rendered)return t.rendered=!0,t.onReady?.()},_t=(t,e)=>!(!t.preload||t.router.state.matches.some(t=>t.id===e)),Lt=(t,e)=>{const s=t.router.routesById[e.routeId??""]??t.router.routeTree;!s.options.notFoundComponent&&t.router.options?.defaultNotFoundComponent&&(s.options.notFoundComponent=t.router.options.defaultNotFoundComponent),U(s.options.notFoundComponent);const o=t.matches.find(t=>t.routeId===s.id);U(o,s.id),t.updateMatch(o.id,t=>({...t,status:"notFound",error:e,isFetching:!1})),"BEFORE_LOAD"===e.routerCode&&s.parentRoute&&(e.routeId=s.parentRoute.id,Lt(t,e))},Rt=(t,e,s)=>{if(Mt(s)||ht(s)){if(Mt(s)&&s.redirectHandled&&!s.options.reloadDocument)throw s;if(e){e._nonReactive.beforeLoadPromise?.resolve(),e._nonReactive.loaderPromise?.resolve(),e._nonReactive.beforeLoadPromise=void 0,e._nonReactive.loaderPromise=void 0;const o=Mt(s)?"redirected":"notFound";t.updateMatch(e.id,t=>({...t,status:o,isFetching:!1,error:s})),ht(s)&&!s.routeId&&(s.routeId=e.routeId),e._nonReactive.loadPromise?.resolve()}throw Mt(s)?(t.rendered=!0,s.options._fromLocation=t.location,s.redirectHandled=!0,s=t.router.resolveRedirect(s)):(Lt(t,s),s)}},Pt=(t,e)=>{const s=t.router.getMatch(e);return!(t.router.isServer||!s._nonReactive.dehydrated)||!(!t.router.isServer||!1!==s.ssr)},xt=(t,e,s,o)=>{const{id:r,routeId:i}=t.matches[e],n=t.router.looseRoutesById[i];if(s instanceof Promise)throw s;s.routerCode=o,t.firstBadMatchIndex??=e,Rt(t,t.router.getMatch(r),s);try{n.options.onError?.(s)}catch(a){s=a,Rt(t,t.router.getMatch(r),s)}t.updateMatch(r,t=>(t._nonReactive.beforeLoadPromise?.resolve(),t._nonReactive.beforeLoadPromise=void 0,t._nonReactive.loadPromise?.resolve(),{...t,error:s,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController}))},Ct=(t,e,s,o)=>{if(void 0!==o._nonReactive.pendingTimeout)return;const r=s.options.pendingMs??t.router.options.defaultPendingMs;if(t.onReady&&!t.router.isServer&&!_t(t,e)&&(s.options.loader||s.options.beforeLoad||jt(s))&&"number"==typeof r&&r!==1/0&&(s.options.pendingComponent??t.router.options?.defaultPendingComponent)){const e=setTimeout(()=>{wt(t)},r);o._nonReactive.pendingTimeout=e}},Et=(t,e)=>{const{id:s,routeId:o}=t.matches[e],r=t.router.looseRoutesById[o],i=()=>((t,e,s,o)=>{const r=t.router.getMatch(e),i=r._nonReactive.loadPromise;r._nonReactive.loadPromise=W(()=>{i?.resolve()});const{paramsError:n,searchError:a}=r;n&&xt(t,s,n,"PARSE_PARAMS"),a&&xt(t,s,a,"VALIDATE_SEARCH"),Ct(t,e,o,r);const c=new AbortController,l=t.matches[s-1]?.id,u=l?t.router.getMatch(l):void 0,h={...u?.context??t.router.options.context??void 0,...r.__routeContext};let d=!1;const f=()=>{d||(d=!0,t.updateMatch(e,t=>({...t,isFetching:"beforeLoad",fetchCount:t.fetchCount+1,abortController:c,context:h})))},p=()=>{r._nonReactive.beforeLoadPromise?.resolve(),r._nonReactive.beforeLoadPromise=void 0,t.updateMatch(e,t=>({...t,isFetching:!1}))};if(!o.options.beforeLoad)return void _(()=>{f(),p()});r._nonReactive.beforeLoadPromise=W();const{search:m,params:v,cause:g}=r,y=_t(t,e),S={search:m,abortController:c,params:v,preload:y,context:h,location:t.location,navigate:e=>t.router.navigate({...e,_fromLocation:t.location}),buildLocation:t.router.buildLocation,cause:y?"preload":g,matches:t.matches,...t.router.options.additionalContext},b=o=>{void 0!==o?((Mt(o)||ht(o))&&(f(),xt(t,s,o,"BEFORE_LOAD")),_(()=>{f(),t.updateMatch(e,t=>({...t,__beforeLoadContext:o,context:{...t.context,...o}})),p()})):_(()=>{f(),p()})};let M;try{if(M=o.options.beforeLoad(S),N(M))return f(),M.catch(e=>{xt(t,s,e,"BEFORE_LOAD")}).then(b)}catch(w){f(),xt(t,s,w,"BEFORE_LOAD")}b(M)})(t,s,e,r),n=()=>{if(Pt(t,s))return;const e=((t,e,s)=>{const o=t.router.getMatch(e);if(!o._nonReactive.beforeLoadPromise&&!o._nonReactive.loaderPromise)return;Ct(t,e,s,o);const r=()=>{const s=t.router.getMatch(e);!s.preload||"redirected"!==s.status&&"notFound"!==s.status||Rt(t,s,s.error)};return o._nonReactive.beforeLoadPromise?o._nonReactive.beforeLoadPromise.then(r):r()})(t,s,r);return N(e)?e.then(i):i()};return(()=>{if(t.router.isServer){const o=((t,e,s,o)=>{const r=t.router.getMatch(e),i=t.matches[s-1]?.id,n=i?t.router.getMatch(i):void 0;if(t.router.isShell())return void(r.ssr=e===z);if(!1===n?.ssr)return void(r.ssr=!1);const a=t=>!0===t&&"data-only"===n?.ssr?"data-only":t,c=t.router.options.defaultSsr??!0;if(void 0===o.options.ssr)return void(r.ssr=a(c));if("function"!=typeof o.options.ssr)return void(r.ssr=a(o.options.ssr));const{search:l,params:u}=r,h={search:Ot(l,r.searchError),params:Ot(u,r.paramsError),location:t.location,matches:t.matches.map(t=>({index:t.index,pathname:t.pathname,fullPath:t.fullPath,staticData:t.staticData,id:t.id,routeId:t.routeId,search:Ot(t.search,t.searchError),params:Ot(t.params,t.paramsError),ssr:t.ssr}))},d=o.options.ssr(h);if(N(d))return d.then(t=>{r.ssr=a(t??c)});r.ssr=a(d??c)})(t,s,e,r);if(N(o))return o.then(n)}return n()})()},It=(t,e,s)=>{const o=t.router.getMatch(e);if(!o)return;if(!s.options.head&&!s.options.scripts&&!s.options.headers)return;const r={matches:t.matches,match:o,params:o.params,loaderData:o.loaderData};return Promise.all([s.options.head?.(r),s.options.scripts?.(r),s.options.headers?.(r)]).then(([t,e,s])=>{const o=t?.meta,r=t?.links,i=t?.scripts,n=t?.styles;return{meta:o,links:r,headScripts:i,headers:s,scripts:e,styles:n}})},Ft=(t,e,s,o)=>{const r=t.matchPromises[s-1],{params:i,loaderDeps:n,abortController:a,context:c,cause:l}=t.router.getMatch(e),u=_t(t,e);return{params:i,deps:n,preload:!!u,parentMatchPromise:r,abortController:a,context:c,location:t.location,navigate:e=>t.router.navigate({...e,_fromLocation:t.location}),cause:u?"preload":l,route:o,...t.router.options.additionalContext}},Vt=async(t,e,s,o)=>{try{const n=t.router.getMatch(e);try{t.router.isServer&&!0!==n.ssr||kt(o);const r=o.options.loader?.(Ft(t,e,s,o)),i=o.options.loader&&N(r);if(!!(i||o._lazyPromise||o._componentsPromise||o.options.head||o.options.scripts||o.options.headers||n._nonReactive.minPendingPromise)&&t.updateMatch(e,t=>({...t,isFetching:"loader"})),o.options.loader){const s=i?await r:r;Rt(t,t.router.getMatch(e),s),void 0!==s&&t.updateMatch(e,t=>({...t,loaderData:s}))}o._lazyPromise&&await o._lazyPromise;const a=It(t,e,o),c=a?await a:void 0,l=n._nonReactive.minPendingPromise;l&&await l,o._componentsPromise&&await o._componentsPromise,t.updateMatch(e,t=>({...t,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),...c}))}catch(r){let s=r;const a=n._nonReactive.minPendingPromise;a&&await a,Rt(t,t.router.getMatch(e),r);try{o.options.onError?.(r)}catch(i){s=i,Rt(t,t.router.getMatch(e),i)}const c=It(t,e,o),l=c?await c:void 0;t.updateMatch(e,t=>({...t,error:s,status:"error",isFetching:!1,...l}))}}catch(n){const s=t.router.getMatch(e);if(s){const r=It(t,e,o);if(r){const s=await r;t.updateMatch(e,t=>({...t,...s}))}s._nonReactive.loaderPromise=void 0}Rt(t,s,n)}},Tt=async(t,e)=>{const{id:s,routeId:o}=t.matches[e];let r=!1,i=!1;const n=t.router.looseRoutesById[o];if(Pt(t,s)){if(t.router.isServer){const e=It(t,s,n);if(e){const o=await e;t.updateMatch(s,t=>({...t,...o}))}return t.router.getMatch(s)}}else{const o=t.router.getMatch(s);if(o._nonReactive.loaderPromise){if("success"===o.status&&!t.sync&&!o.preload)return o;await o._nonReactive.loaderPromise;const e=t.router.getMatch(s);e.error&&Rt(t,e,e.error)}else{const a=Date.now()-o.updatedAt,c=_t(t,s),l=c?n.options.preloadStaleTime??t.router.options.defaultPreloadStaleTime??3e4:n.options.staleTime??t.router.options.defaultStaleTime??0,u=n.options.shouldReload,h="function"==typeof u?u(Ft(t,s,e,n)):u,d=!!c&&!t.router.state.matches.some(t=>t.id===s),f=t.router.getMatch(s);f._nonReactive.loaderPromise=W(),d!==f.preload&&t.updateMatch(s,t=>({...t,preload:d}));const{status:p,invalid:m}=f;if(r="success"===p&&(m||(h??a>l)),c&&!1===n.options.preload);else if(r&&!t.sync)i=!0,(async()=>{try{await Vt(t,s,e,n);const o=t.router.getMatch(s);o._nonReactive.loaderPromise?.resolve(),o._nonReactive.loadPromise?.resolve(),o._nonReactive.loaderPromise=void 0}catch(o){Mt(o)&&await t.router.navigate(o.options)}})();else if("success"!==p||r&&t.sync)await Vt(t,s,e,n);else{const e=It(t,s,n);if(e){const o=await e;t.updateMatch(s,t=>({...t,...o}))}}}}const a=t.router.getMatch(s);i||(a._nonReactive.loaderPromise?.resolve(),a._nonReactive.loadPromise?.resolve()),clearTimeout(a._nonReactive.pendingTimeout),a._nonReactive.pendingTimeout=void 0,i||(a._nonReactive.loaderPromise=void 0),a._nonReactive.dehydrated=void 0;const c=!!i&&a.isFetching;return c!==a.isFetching||!1!==a.invalid?(t.updateMatch(s,t=>({...t,isFetching:c,invalid:!1})),t.router.getMatch(s)):a};async function At(t){const e=Object.assign(t,{matchPromises:[]});!e.router.isServer&&e.router.state.matches.some(t=>t._forcePending)&&wt(e);try{for(let o=0;o<e.matches.length;o++){const t=Et(e,o);N(t)&&await t}const t=e.firstBadMatchIndex??e.matches.length;for(let o=0;o<t;o++)e.matchPromises.push(Tt(e,o));await Promise.all(e.matchPromises);const s=wt(e);N(s)&&await s}catch(s){if(ht(s)&&!e.preload){const t=wt(e);throw N(t)&&await t,s}if(Mt(s))throw s}return e.matches}async function kt(t){if(t._lazyLoaded||void 0!==t._lazyPromise||(t.lazyFn?t._lazyPromise=t.lazyFn().then(e=>{const{id:s,...o}=e.options;Object.assign(t.options,o),t._lazyLoaded=!0,t._lazyPromise=void 0}):t._lazyLoaded=!0),!t._componentsLoaded&&void 0===t._componentsPromise){const e=()=>{const e=[];for(const s of $t){const o=t.options[s]?.preload;o&&e.push(o())}if(e.length)return Promise.all(e).then(()=>{t._componentsLoaded=!0,t._componentsPromise=void 0});t._componentsLoaded=!0,t._componentsPromise=void 0};t._componentsPromise=t._lazyPromise?t._lazyPromise.then(e):e()}return t._componentsPromise}function Ot(t,e){return e?{status:"error",error:e}:{status:"success",value:t}}function jt(t){for(const e of $t)if(t.options[e]?.preload)return!0;return!1}const $t=["component","errorComponent","pendingComponent","notFoundComponent"];function Bt(t,e){const s=t?.input?.({url:e});if(s){if("string"==typeof s)return new URL(s);if(s instanceof URL)return s}return e}function Dt(t,e){const s=t?.output?.({url:e});if(s){if("string"==typeof s)return new URL(s);if(s instanceof URL)return s}return e}function Wt(t){const e=t.resolvedLocation,s=t.location;return{fromLocation:e,toLocation:s,pathChanged:e?.pathname!==s.pathname,hrefChanged:e?.href!==s.href,hashChanged:e?.hash!==s.hash}}class Nt{constructor(t){this.tempLocationKey=`${Math.round(1e7*Math.random())}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.update=t=>{t.notFoundRoute;const e=this.options,s=this.basepath??e?.basepath??"/",o=void 0===this.basepath,r=e?.rewrite;this.options={...e,...t},this.isServer=this.options.isServer??"undefined"==typeof document,this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(t=>[encodeURIComponent(t),t])):void 0,(!this.history||this.options.history&&this.options.history!==this.history)&&(this.options.history?this.history=this.options.history:this.isServer||(this.history=function(){const t="undefined"!=typeof document?window:void 0,e=t.history.pushState,s=t.history.replaceState;let o=[];const r=()=>o,i=()=>I(`${t.location.pathname}${t.location.search}${t.location.hash}`,t.history.state);if(!t.history.state?.__TSR_key&&!t.history.state?.key){const e=F();t.history.replaceState({[P]:0,key:e,__TSR_key:e},"")}let n,a,c,l=i(),u=!1,h=!1,d=!1,f=!1;const p=()=>{a&&(S._ignoreSubscribers=!0,(a.isPush?t.history.pushState:t.history.replaceState)(a.state,"",a.href),S._ignoreSubscribers=!1,a=void 0,c=void 0,n=void 0)},m=(t,e,s)=>{const o=e;c||(n=l),l=I(e,s),a={href:o,state:s,isPush:a?.isPush||"push"===t},c||(c=Promise.resolve().then(()=>p()))},v=t=>{l=i(),S.notify({type:t})},g=async()=>{if(h)return void(h=!1);const e=i(),s=e.state[P]-l.state[P],o=-1===s,n=!(1===s)&&!o||u;u=!1;const a=n?"GO":o?"BACK":"FORWARD",c=n?{type:"GO",index:s}:{type:o?"BACK":"FORWARD"};if(d)d=!1;else{const s=r();if("undefined"!=typeof document&&s.length)for(const o of s)if(await o.blockerFn({currentLocation:l,nextLocation:e,action:a}))return h=!0,t.history.go(1),void S.notify(c)}l=i(),S.notify(c)},y=t=>{if(f)return void(f=!1);let e=!1;const s=r();if("undefined"!=typeof document&&s.length)for(const o of s){const t=o.enableBeforeUnload??!0;if(!0===t){e=!0;break}if("function"==typeof t&&!0===t()){e=!0;break}}return e?(t.preventDefault(),t.returnValue=""):void 0},S=function(t){let e=t.getLocation();const s=new Set,o=o=>{e=t.getLocation(),s.forEach(t=>t({location:e,action:o}))},r=s=>{t.notifyOnIndexChange??1?o(s):e=t.getLocation()},i=async({task:s,navigateOpts:o,...r})=>{if(o?.ignoreBlocker)return void s();const i=t.getBlockers?.()??[],n="PUSH"===r.type||"REPLACE"===r.type;if("undefined"!=typeof document&&i.length&&n)for(const a of i){const s=I(r.path,r.state);if(await a.blockerFn({currentLocation:e,nextLocation:s,action:r.type}))return void t.onBlocked?.()}s()};return{get location(){return e},get length(){return t.getLength()},subscribers:s,subscribe:t=>(s.add(t),()=>{s.delete(t)}),push:(s,r,n)=>{const a=e.state[P];r=E(a+1,r),i({task:()=>{t.pushState(s,r),o({type:"PUSH"})},navigateOpts:n,type:"PUSH",path:s,state:r})},replace:(s,r,n)=>{const a=e.state[P];r=E(a,r),i({task:()=>{t.replaceState(s,r),o({type:"REPLACE"})},navigateOpts:n,type:"REPLACE",path:s,state:r})},go:(e,s)=>{i({task:()=>{t.go(e),r({type:"GO",index:e})},navigateOpts:s,type:"GO"})},back:e=>{i({task:()=>{t.back(e?.ignoreBlocker??!1),r({type:"BACK"})},navigateOpts:e,type:"BACK"})},forward:e=>{i({task:()=>{t.forward(e?.ignoreBlocker??!1),r({type:"FORWARD"})},navigateOpts:e,type:"FORWARD"})},canGoBack:()=>0!==e.state[P],createHref:e=>t.createHref(e),block:e=>{if(!t.setBlockers)return()=>{};const s=t.getBlockers?.()??[];return t.setBlockers([...s,e]),()=>{const s=t.getBlockers?.()??[];t.setBlockers?.(s.filter(t=>t!==e))}},flush:()=>t.flush?.(),destroy:()=>t.destroy?.(),notify:o}}({getLocation:()=>l,getLength:()=>t.history.length,pushState:(t,e)=>m("push",t,e),replaceState:(t,e)=>m("replace",t,e),back:e=>(e&&(d=!0),f=!0,t.history.back()),forward:e=>{e&&(d=!0),f=!0,t.history.forward()},go:e=>{u=!0,t.history.go(e)},createHref:t=>t,flush:p,destroy:()=>{t.history.pushState=e,t.history.replaceState=s,t.removeEventListener(C,y,{capture:!0}),t.removeEventListener(x,g)},onBlocked:()=>{n&&l!==n&&(l=n)},getBlockers:r,setBlockers:t=>o=t,notifyOnIndexChange:!1});return t.addEventListener(C,y,{capture:!0}),t.addEventListener(x,g),t.history.pushState=function(...s){const o=e.apply(t.history,s);return S._ignoreSubscribers||v("PUSH"),o},t.history.replaceState=function(...e){const o=s.apply(t.history,e);return S._ignoreSubscribers||v("REPLACE"),o},S}())),this.origin=this.options.origin,this.origin||(this.isServer?this.origin="http://localhost":this.origin=window.origin),this.history&&this.updateLatestLocation(),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),!this.__store&&this.latestLocation&&(this.__store=new L({loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:this.latestLocation,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200},{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(t=>!["redirected"].includes(t.status))}}}),function(t){if(!ft&&!t.isServer)return;if((t.options.scrollRestoration??!1)&&(t.isScrollRestoring=!0),t.isServer||t.isScrollRestorationSetup||!ft)return;t.isScrollRestorationSetup=!0,mt=!1;const e=t.options.getScrollRestorationKey||pt;window.history.scrollRestoration="manual","undefined"!=typeof document&&document.addEventListener("scroll",(t=>{let e;return(...s)=>{e||(e=setTimeout(()=>{t(...s),e=null},100))}})(s=>{if(mt||!t.isScrollRestoring)return;let o="";if(s.target===document||s.target===window)o="window";else{const t=s.target.getAttribute("data-scroll-restoration-id");o=t?`[data-scroll-restoration-id="${t}"]`:function(t){const e=[];let s;for(;s=t.parentNode;)e.push(`${t.tagName}:nth-child(${Array.prototype.indexOf.call(s.children,t)+1})`),t=s;return`${e.reverse().join(" > ")}`.toLowerCase()}(s.target)}const r=e(t.state.location);ft.set(t=>{const e=t[r]||={},s=e[o]||={};if("window"===o)s.scrollX=window.scrollX||0,s.scrollY=window.scrollY||0;else if(o){const t=document.querySelector(o);t&&(s.scrollX=t.scrollLeft||0,s.scrollY=t.scrollTop||0)}return t})}),!0),t.subscribe("onRendered",s=>{const o=e(s.toLocation);if(t.resetNextScroll){if("function"==typeof t.options.scrollRestoration&&!t.options.scrollRestoration({location:t.latestLocation}))return;vt({storageKey:dt,key:o,behavior:t.options.scrollRestorationBehavior,shouldScrollRestoration:t.isScrollRestoring,scrollToTopSelectors:t.options.scrollToTopSelectors,location:t.history.location}),t.isScrollRestoring&&ft.set(t=>(t[o]||={},t))}else t.resetNextScroll=!0})}(this));let i=!1;const n=this.options.basepath??"/",a=this.options.rewrite;if(o||s!==n||r!==a){this.basepath=n;const t=[];""!==J(n)&&t.push(function(t){const e=J(t.basepath),s=`/${e}`,o=`${s}/`,r=t.caseSensitive?s:s.toLowerCase(),i=t.caseSensitive?o:o.toLowerCase();return{input:({url:e})=>{const o=t.caseSensitive?e.pathname:e.pathname.toLowerCase();return o===r?e.pathname="/":o.startsWith(i)&&(e.pathname=e.pathname.slice(s.length)),e},output:({url:t})=>(t.pathname=K(["/",e,t.pathname]),t)}}({basepath:n})),a&&t.push(a),this.rewrite=0===t.length?void 0:1===t.length?t[0]:function(t){return{input:({url:e})=>{for(const s of t)e=Bt(s,e);return e},output:({url:e})=>{for(let s=t.length-1;s>=0;s--)e=Dt(t[s],e);return e}}}(t),this.history&&this.updateLatestLocation(),i=!0}i&&this.__store&&(this.__store.state={...this.state,location:this.latestLocation}),"undefined"!=typeof window&&"CSS"in window&&"function"==typeof window.CSS?.supports&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)"))},this.updateLatestLocation=()=>{this.latestLocation=this.parseLocation(this.history.location,this.latestLocation)},this.buildRouteTree=()=>{const{routesById:t,routesByPath:e,flatRoutes:s}=function({routeTree:t,initRoute:e}){const s={},o={},r=t=>{t.forEach((t,i)=>{if(e?.(t,i),U(!s[t.id],String(t.id)),s[t.id]=t,!t.isRoot&&t.path){const e=q(t.fullPath);o[e]&&!t.fullPath.endsWith("/")||(o[e]=t)}const n=t.children;n?.length&&r(n)})};r([t]);const i=function(t){const e=[];return t.forEach((t,s)=>{if(t.isRoot||!t.path)return;const o=G(t.fullPath);let r=Q(o),i=0;for(;r.length>i+1&&"/"===r[i]?.value;)i++;i>0&&(r=r.slice(i));let n=0,a=!1;const c=r.map((t,e)=>{if("/"===t.value)return.75;if(0===t.type)return 1;let s;1===t.type?s=.5:3===t.type?(s=.4,n++):s=.25;for(let o=e+1;o<r.length;o++){const e=r[o];if(0===e.type&&"/"!==e.value)return a=!0,ut(t,s+.2)}return ut(t,s)});e.push({child:t,trimmed:o,parsed:r,index:s,scores:c,optionalParamCount:n,hasStaticAfter:a})}),e.sort((t,e)=>{const s=Math.min(t.scores.length,e.scores.length);for(let o=0;o<s;o++)if(t.scores[o]!==e.scores[o])return e.scores[o]-t.scores[o];if(t.scores.length!==e.scores.length){if(t.optionalParamCount!==e.optionalParamCount){if(t.hasStaticAfter===e.hasStaticAfter)return t.optionalParamCount-e.optionalParamCount;if(t.hasStaticAfter&&!e.hasStaticAfter)return-1;if(!t.hasStaticAfter&&e.hasStaticAfter)return 1}return e.scores.length-t.scores.length}for(let o=0;o<s;o++)if(t.parsed[o].value!==e.parsed[o].value)return t.parsed[o].value>e.parsed[o].value?1:-1;return t.index-e.index}).map((t,e)=>(t.child.rank=e,t.child))}(Object.values(s));return{routesById:s,routesByPath:o,flatRoutes:i}}({routeTree:this.routeTree,initRoute:(t,e)=>{t.init({originalIndex:e})}});this.routesById=t,this.routesByPath=e,this.flatRoutes=s;const o=this.options.notFoundRoute;o&&(o.init({originalIndex:99999999999}),this.routesById[o.id]=o)},this.subscribe=(t,e)=>{const s={eventType:t,fn:e};return this.subscribers.add(s),()=>{this.subscribers.delete(s)}},this.emit=t=>{this.subscribers.forEach(e=>{e.eventType===t.type&&e.fn(t)})},this.parseLocation=(t,e)=>{const s=({href:t,state:s})=>{const o=new URL(t,this.origin),r=Bt(this.rewrite,o),i=this.options.parseSearch(r.search),n=this.options.stringifySearch(i);r.search=n;const a=r.href.replace(r.origin,""),{pathname:c,hash:l}=r;return{href:a,publicHref:t,url:r.href,pathname:c,searchStr:n,search:k(e?.search,i),hash:l.split("#").reverse()[0]??"",state:k(e?.state,s)}},o=s(t),{__tempLocation:r,__tempKey:i}=o.state;if(r&&(!i||i===this.tempLocationKey)){const t=s(r);return t.state.key=o.state.key,t.state.__TSR_key=o.state.__TSR_key,delete t.state.__tempLocation,{...t,maskedLocation:o}}return o},this.resolvePathWithBase=(t,e)=>function({base:t,to:e,trailingSlash:s="never",parseCache:o}){let r=Z(t,o).slice();const i=Q(e,o);r.length>1&&"/"===V(r)?.value&&r.pop();for(let n=0,a=i.length;n<a;n++){const t=i[n],e=t.value;"/"===e?n?n===a-1&&r.push(t):r=[t]:".."===e?r.pop():"."===e||r.push(t)}return r.length>1&&("/"===V(r).value?"never"===s&&r.pop():"always"===s&&r.push({type:0,value:"/"})),K(r.map(Y))}({base:t,to:H(e),trailingSlash:this.options.trailingSlash,parseCache:this.parsePathnameCache}),this.matchRoutes=(t,e,s)=>"string"==typeof t?this.matchRoutesInternal({pathname:t,search:e},s):this.matchRoutesInternal(t,e),this.parsePathnameCache=function(){const t=new Map;let e,s;const o=t=>{t.next&&(t.prev?(t.prev.next=t.next,t.next.prev=t.prev,t.next=void 0,s&&(s.next=t,t.prev=s)):(t.next.prev=void 0,e=t.next,t.next=void 0,s&&(t.prev=s,s.next=t)),s=t)};return{get(e){const s=t.get(e);if(s)return o(s),s.value},set(r,i){if(t.size>=1e3&&e){const o=e;t.delete(o.key),o.next&&(e=o.next,o.next.prev=void 0),o===s&&(s=void 0)}const n=t.get(r);if(n)n.value=i,o(n);else{const o={key:r,value:i,prev:s};s&&(s.next=o),s=o,e||(e=o),t.set(r,o)}}}}(),this.getMatchedRoutes=(t,e)=>function({pathname:t,routePathname:e,caseSensitive:s,routesByPath:o,routesById:r,flatRoutes:i,parseCache:n}){let a={};const c=q(t),l=t=>at(c,{to:t.fullPath,caseSensitive:t.options?.caseSensitive??s,fuzzy:!0},n);let u=void 0!==e?o[e]:void 0;if(u)a=l(u);else{let t;for(const e of i){const s=l(e);if(s){if("/"===e.path||!s["**"]){u=e,a=s;break}t||(t={foundRoute:e,routeParams:s})}}!u&&t&&(u=t.foundRoute,a=t.routeParams)}let h=u||r[z];const d=[h];for(;h.parentRoute;)h=h.parentRoute,d.push(h);return d.reverse(),{matchedRoutes:d,routeParams:a,foundRoute:u}}({pathname:t,routePathname:e,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes,parseCache:this.parsePathnameCache}),this.cancelMatch=t=>{const e=this.getMatch(t);e&&(e.abortController.abort(),clearTimeout(e._nonReactive.pendingTimeout),e._nonReactive.pendingTimeout=void 0)},this.cancelMatches=()=>{this.state.pendingMatches?.forEach(t=>{this.cancelMatch(t.id)})},this.buildLocation=t=>{const e=(e={})=>{const s=e._fromLocation||this.latestLocation,o=V(this.matchRoutes(s,{_buildLocation:!0}));e.from;const r="path"===e.unsafeRelative?s.pathname:e.from??o.fullPath,i=this.resolvePathWithBase(r,"."),n=o.search,a={...o.params},c=e.to?this.resolvePathWithBase(i,`${e.to}`):this.resolvePathWithBase(i,"."),l=!1===e.params||null===e.params?{}:!0===(e.params??!0)?a:Object.assign(a,T(e.params,a)),u=nt({path:c,params:l,parseCache:this.parsePathnameCache}).interpolatedPath,h=this.matchRoutes(u,void 0,{_buildLocation:!0}).map(t=>this.looseRoutesById[t.routeId]);if(Object.keys(l).length>0)for(const t of h){const e=t.options.params?.stringify??t.options.stringifyParams;e&&Object.assign(l,e(l))}const d=nt({path:c,params:l,leaveWildcards:!1,leaveParams:t.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath;let f=n;if(t._includeValidateSearch&&this.options.search?.strict){const t={};h.forEach(e=>{if(e.options.validateSearch)try{Object.assign(t,Kt(e.options.validateSearch,{...t,...f}))}catch{}}),f=t}f=function({search:t,dest:e,destRoutes:s,_includeValidateSearch:o}){const r=s.reduce((t,e)=>{const s=[];if("search"in e.options)e.options.search?.middlewares&&s.push(...e.options.search.middlewares);else if(e.options.preSearchFilters||e.options.postSearchFilters){const t=({search:t,next:s})=>{let o=t;"preSearchFilters"in e.options&&e.options.preSearchFilters&&(o=e.options.preSearchFilters.reduce((t,e)=>e(t),t));const r=s(o);return"postSearchFilters"in e.options&&e.options.postSearchFilters?e.options.postSearchFilters.reduce((t,e)=>e(t),r):r};s.push(t)}if(o&&e.options.validateSearch){const t=({search:t,next:s})=>{const o=s(t);try{return{...o,...Kt(e.options.validateSearch,o)??void 0}}catch{return o}};s.push(t)}return t.concat(s)},[])??[];r.push(({search:t})=>e.search?!0===e.search?t:T(e.search,t):{});const i=(t,e)=>t>=r.length?e:(0,r[t])({search:e,next:e=>i(t+1,e)});return i(0,t)}({search:f,dest:e,destRoutes:h,_includeValidateSearch:t._includeValidateSearch}),f=k(n,f);const p=this.options.stringifySearch(f),m=!0===e.hash?s.hash:e.hash?T(e.hash,s.hash):void 0,v=m?`#${m}`:"";let g=!0===e.state?s.state:e.state?T(e.state,s.state):{};g=k(s.state,g);const y=`${d}${p}${v}`,S=new URL(y,this.origin),b=Dt(this.rewrite,S);return{publicHref:b.pathname+b.search+b.hash,href:y,url:b.href,pathname:d,search:f,searchStr:p,state:g,hash:m??"",unmaskOnReload:e.unmaskOnReload}},s=(s={},o)=>{const r=e(s);let i=o?e(o):void 0;if(!i){let s={};const n=this.options.routeMasks?.find(t=>{const e=at(r.pathname,{to:t.from,caseSensitive:!1,fuzzy:!1},this.parsePathnameCache);return!!e&&(s=e,!0)});if(n){const{from:r,...a}=n;o={from:t.from,...a,params:s},i=e(o)}}return i&&(r.maskedLocation=i),r};return t.mask?s(t,{from:t.from,...t.mask}):s(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:e,...s})=>{const o=q(this.latestLocation.href)===q(s.href),r=this.commitLocationPromise;if(this.commitLocationPromise=W(()=>{r?.resolve()}),o&&(()=>{const t=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];t.forEach(t=>{s.state[t]=this.latestLocation.state[t]});const e=D(s.state,this.latestLocation.state);return t.forEach(t=>{delete s.state[t]}),e})())this.load();else{let{maskedLocation:o,hashScrollIntoView:r,...i}=s;o&&(i={...o,state:{...o.state,__tempKey:void 0,__tempLocation:{...i,search:i.searchStr,state:{...i.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(i.unmaskOnReload??this.options.unmaskOnReload)&&(i.state.__tempKey=this.tempLocationKey)),i.state.__hashScrollIntoViewOptions=r??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[s.replace?"replace":"push"](i.publicHref,i.state,{ignoreBlocker:e})}return this.resetNextScroll=s.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:e,hashScrollIntoView:s,viewTransition:o,ignoreBlocker:r,href:i,...n}={})=>{if(i){const e=this.history.location.state.__TSR_index,s=I(i,{__TSR_index:t?e:e+1});n.to=s.pathname,n.search=this.options.parseSearch(s.search),n.hash=s.hash.slice(1)}const a=this.buildLocation({...n,_includeValidateSearch:!0});return this.commitLocation({...a,viewTransition:o,replace:t,resetScroll:e,hashScrollIntoView:s,ignoreBlocker:r})},this.navigate=({to:t,reloadDocument:e,href:s,...o})=>{if(!e&&s)try{new URL(`${s}`),e=!0}catch{}return e?(s||(s=this.buildLocation({to:t,...o}).url),o.replace?window.location.replace(s):window.location.href=s,Promise.resolve()):this.buildAndCommitLocation({...o,href:s,to:t,_isNavigate:!0})},this.beforeLoad=()=>{if(this.cancelMatches(),this.updateLatestLocation(),this.isServer){const t=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0}),e=t=>{try{return encodeURI(decodeURI(t))}catch{return t}};if(J(e(this.latestLocation.href))!==J(e(t.href)))throw function(t){if(t.statusCode=t.statusCode||t.code||307,!t.reloadDocument&&"string"==typeof t.href)try{new URL(t.href),t.reloadDocument=!0}catch{}const e=new Headers(t.headers);t.href&&null===e.get("Location")&&e.set("Location",t.href);const s=new Response(null,{status:t.statusCode,headers:e});if(s.options=t,t.throw)throw s;return s}({href:t.href})}const t=this.matchRoutes(this.latestLocation);this.__store.setState(e=>({...e,status:"pending",statusCode:200,isLoading:!0,location:this.latestLocation,pendingMatches:t,cachedMatches:e.cachedMatches.filter(e=>!t.some(t=>t.id===e.id))}))},this.load=async t=>{let e,s,o;for(o=new Promise(r=>{this.startTransition(async()=>{try{this.beforeLoad();const e=this.latestLocation,s=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...Wt({resolvedLocation:s,location:e})}),this.emit({type:"onBeforeLoad",...Wt({resolvedLocation:s,location:e})}),await At({router:this,sync:t?.sync,matches:this.state.pendingMatches,location:e,updateMatch:this.updateMatch,onReady:async()=>{this.startViewTransition(async()=>{let t,e,s;_(()=>{this.__store.setState(o=>{const r=o.matches,i=o.pendingMatches||o.matches;return t=r.filter(t=>!i.some(e=>e.id===t.id)),e=i.filter(t=>!r.some(e=>e.id===t.id)),s=r.filter(t=>i.some(e=>e.id===t.id)),{...o,isLoading:!1,loadedAt:Date.now(),matches:i,pendingMatches:void 0,cachedMatches:[...o.cachedMatches,...t.filter(t=>"error"!==t.status)]}}),this.clearExpiredCache()}),[[t,"onLeave"],[e,"onEnter"],[s,"onStay"]].forEach(([t,e])=>{t.forEach(t=>{this.looseRoutesById[t.routeId].options[e]?.(t)})})})}})}catch(i){Mt(i)?(e=i,this.isServer||this.navigate({...e.options,replace:!0,ignoreBlocker:!0})):ht(i)&&(s=i),this.__store.setState(t=>({...t,statusCode:e?e.status:s?404:t.matches.some(t=>"error"===t.status)?500:200,redirect:e}))}this.latestLoadPromise===o&&(this.commitLocationPromise?.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),r()})}),this.latestLoadPromise=o,await o;this.latestLoadPromise&&o!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(t=>({...t,statusCode:404}))},this.startViewTransition=t=>{const e=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,e&&"undefined"!=typeof document&&"startViewTransition"in document&&"function"==typeof document.startViewTransition){let s;if("object"==typeof e&&this.isViewTransitionTypesSupported){const o=this.latestLocation,r=this.state.resolvedLocation;s={update:t,types:"function"==typeof e.types?e.types(Wt({resolvedLocation:r,location:o})):e.types}}else s=t;document.startViewTransition(s)}else t()},this.updateMatch=(t,e)=>{const s=this.state.pendingMatches?.some(e=>e.id===t)?"pendingMatches":this.state.matches.some(e=>e.id===t)?"matches":this.state.cachedMatches.some(e=>e.id===t)?"cachedMatches":"";s&&this.__store.setState(o=>({...o,[s]:o[s]?.map(s=>s.id===t?e(s):s)}))},this.getMatch=t=>{const e=e=>e.id===t;return this.state.cachedMatches.find(e)??this.state.pendingMatches?.find(e)??this.state.matches.find(e)},this.invalidate=t=>{const e=e=>t?.filter?.(e)??1?{...e,invalid:!0,...t?.forcePending||"error"===e.status?{status:"pending",error:void 0}:void 0}:e;return this.__store.setState(t=>({...t,matches:t.matches.map(e),cachedMatches:t.cachedMatches.map(e),pendingMatches:t.pendingMatches?.map(e)})),this.shouldViewTransition=!1,this.load({sync:t?.sync})},this.resolveRedirect=t=>{if(!t.options.href){const e=this.buildLocation(t.options);let s=e.url;this.origin&&s.startsWith(this.origin)&&(s=s.replace(this.origin,"")||"/"),t.options.href=e.href,t.headers.set("Location",s)}return t.headers.get("Location")||t.headers.set("Location",t.options.href),t},this.clearCache=t=>{const e=t?.filter;void 0!==e?this.__store.setState(t=>({...t,cachedMatches:t.cachedMatches.filter(t=>!e(t))})):this.__store.setState(t=>({...t,cachedMatches:[]}))},this.clearExpiredCache=()=>{this.clearCache({filter:t=>{const e=this.looseRoutesById[t.routeId];if(!e.options.loader)return!0;const s=(t.preload?e.options.preloadGcTime??this.options.defaultPreloadGcTime:e.options.gcTime??this.options.defaultGcTime)??3e5;return"error"===t.status||Date.now()-t.updatedAt>=s}})},this.loadRouteChunk=kt,this.preloadRoute=async t=>{const e=this.buildLocation(t);let s=this.matchRoutes(e,{throwOnError:!0,preload:!0,dest:t});const o=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(t=>t.id)),r=new Set([...o,...this.state.cachedMatches.map(t=>t.id)]);_(()=>{s.forEach(t=>{r.has(t.id)||this.__store.setState(e=>({...e,cachedMatches:[...e.cachedMatches,t]}))})});try{return s=await At({router:this,matches:s,location:e,preload:!0,updateMatch:(t,e)=>{o.has(t)?s=s.map(s=>s.id===t?e(s):s):this.updateMatch(t,e)}}),s}catch(i){if(Mt(i)){if(i.options.reloadDocument)return;return await this.preloadRoute({...i.options,_fromLocation:e})}return void ht(i)}},this.matchRoute=(t,e)=>{const s={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},o=this.buildLocation(s);if(e?.pending&&"pending"!==this.state.status)return!1;const r=(void 0===e?.pending?!this.state.isLoading:e.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,i=at(r.pathname,{...e,to:o.pathname},this.parsePathnameCache);return!!i&&!(t.params&&!D(i,t.params,{partial:!0}))&&(i&&(e?.includeSearch??1)?!!D(r.search,o.search,{partial:!0})&&i:i)},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>"notFound"===t.status||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...t,caseSensitive:t.caseSensitive??!1,notFoundMode:t.notFoundMode??"fuzzy",stringifySearch:t.stringifySearch??bt,parseSearch:t.parseSearch??yt}),"undefined"!=typeof document&&(self.__TSR_ROUTER__=this)}isShell(){return!!this.options.isShell}isPrerendering(){return!!this.options.isPrerendering}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(t,e){const{foundRoute:s,matchedRoutes:o,routeParams:r}=this.getMatchedRoutes(t.pathname,e?.dest?.to);let i=!1;(s?"/"!==s.path&&r["**"]:q(t.pathname))&&(this.options.notFoundRoute?o.push(this.options.notFoundRoute):i=!0);const n=(()=>{if(i){if("root"!==this.options.notFoundMode)for(let t=o.length-1;t>=0;t--){const e=o[t];if(e.children)return e.id}return z}})(),a=[],c=t=>{const e=t?.id;return e?t.context??this.options.context??void 0:this.options.context??void 0};return o.forEach((s,o)=>{const i=a[o-1],[l,u,h]=(()=>{const o=i?.search??t.search,r=i?._strictSearch??void 0;try{const t=Kt(s.options.validateSearch,{...o})??void 0;return[{...o,...t},{...r,...t},void 0]}catch(n){let t=n;if(n instanceof Ut||(t=new Ut(n.message,{cause:n})),e?.throwOnError)throw t;return[o,{},t]}})(),d=s.options.loaderDeps?.({search:l})??"",f=d?JSON.stringify(d):"",{interpolatedPath:p,usedParams:m}=nt({path:s.fullPath,params:r,decodeCharMap:this.pathParamsDecodeCharMap}),v=nt({path:s.id,params:r,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap,parseCache:this.parsePathnameCache}).interpolatedPath+f,g=this.getMatch(v),y=this.state.matches.find(t=>t.routeId===s.id),S=g?._strictParams??m;let b;if(!g){const t=s.options.params?.parse??s.options.parseParams;if(t)try{Object.assign(S,t(S))}catch(L){if(b=new zt(L.message,{cause:L}),e?.throwOnError)throw b}}Object.assign(r,S);const M=y?"stay":"enter";let w;if(g)w={...g,cause:M,params:y?k(y.params,r):r,_strictParams:S,search:k(y?y.search:g.search,l),_strictSearch:u};else{const t=s.options.loader||s.options.beforeLoad||s.lazyFn||jt(s)?"pending":"success";w={id:v,index:o,routeId:s.id,params:y?k(y.params,r):r,_strictParams:S,pathname:p,updatedAt:Date.now(),search:y?k(y.search,l):l,_strictSearch:u,searchError:void 0,status:t,isFetching:!1,error:void 0,paramsError:b,__routeContext:void 0,_nonReactive:{loadPromise:W()},__beforeLoadContext:void 0,context:{},abortController:new AbortController,fetchCount:0,cause:M,loaderDeps:y?k(y.loaderDeps,d):d,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:s.options.staticData||{},fullPath:s.fullPath}}e?.preload||(w.globalNotFound=n===s.id),w.searchError=h;const _=c(i);w.context={..._,...w.__routeContext,...w.__beforeLoadContext},a.push(w)}),a.forEach((s,o)=>{const r=this.looseRoutesById[s.routeId];if(!this.getMatch(s.id)&&!0!==e?._buildLocation){const e=a[o-1],i=c(e);if(r.options.context){const e={deps:s.loaderDeps,params:s.params,context:i??{},location:t,navigate:e=>this.navigate({...e,_fromLocation:t}),buildLocation:this.buildLocation,cause:s.cause,abortController:s.abortController,preload:!!s.preload,matches:a};s.__routeContext=r.options.context(e)??void 0}s.context={...i,...s.__routeContext,...s.__beforeLoadContext}}}),a}}class Ut extends Error{}class zt extends Error{}function Kt(t,e){if(null==t)return{};if("~standard"in t){const s=t["~standard"].validate(e);if(s instanceof Promise)throw new Ut("Async validation not supported");if(s.issues)throw new Ut(JSON.stringify(s.issues,void 0,2),{cause:s});return s.value}return"parse"in t?t.parse(e):"function"==typeof t?t(e):{}}class Ht{constructor(t){if(this.init=t=>{this.originalIndex=t.originalIndex;const e=this.options,s=!e?.path&&!e?.id;this.parentRoute=this.options.getParentRoute?.(),s?this._path=z:this.parentRoute||U(!1);let o=s?z:e?.path;o&&"/"!==o&&(o=G(o));const r=e?.id||o;let i=s?z:K([this.parentRoute.id===z?"":this.parentRoute.id,r]);o===z&&(o="/"),i!==z&&(i=K(["/",i]));const n=i===z?"/":K([this.parentRoute.fullPath,o]);this._path=o,this._id=i,this._fullPath=n,this._to=n},this.clone=t=>{this._path=t._path,this._id=t._id,this._fullPath=t._fullPath,this._to=t._to,this.options.getParentRoute=t.options.getParentRoute,this.children=t.children},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),"object"==typeof t&&null!==t&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.options=t||{},this.isRoot=!t?.getParentRoute,t?.id&&t?.path)throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}}class Gt extends Ht{constructor(t){super(t)}}function qt(t){const e=t.errorComponent??Xt;return c.jsx(Jt,{getResetKey:t.getResetKey,onCatch:t.onCatch,children:({error:s,reset:o})=>s?l.createElement(e,{error:s,reset:o}):t.children})}class Jt extends l.Component{constructor(){super(...arguments),this.state={error:null}}static getDerivedStateFromProps(t){return{resetKey:t.getResetKey()}}static getDerivedStateFromError(t){return{error:t}}reset(){this.setState({error:null})}componentDidUpdate(t,e){e.error&&e.resetKey!==this.state.resetKey&&this.reset()}componentDidCatch(t,e){this.props.onCatch&&this.props.onCatch(t,e)}render(){return this.props.children({error:this.state.resetKey!==this.props.getResetKey()?null:this.state.error,reset:()=>{this.reset()}})}}function Xt({error:t}){const[e,s]=l.useState(!1);return c.jsxs("div",{style:{padding:".5rem",maxWidth:"100%"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:".5rem"},children:[c.jsx("strong",{style:{fontSize:"1rem"},children:"Something went wrong!"}),c.jsx("button",{style:{appearance:"none",fontSize:".6em",border:"1px solid currentColor",padding:".1rem .2rem",fontWeight:"bold",borderRadius:".25rem"},onClick:()=>s(t=>!t),children:e?"Hide Error":"Show Error"})]}),c.jsx("div",{style:{height:".25rem"}}),e?c.jsx("div",{children:c.jsx("pre",{style:{fontSize:".7em",border:"1px solid red",borderRadius:".25rem",padding:".3rem",color:"red",overflow:"auto"},children:t.message?c.jsx("code",{children:t.message}):null})}):null]})}function Yt({children:t,fallback:e=null}){return u.useSyncExternalStore(Zt,()=>!0,()=>!1)?c.jsx(u.Fragment,{children:t}):c.jsx(u.Fragment,{children:e})}function Zt(){return()=>{}}var Qt,te,ee,se,oe={exports:{}},re={},ie={exports:{}},ne={};function ae(){return te||(te=1,ie.exports=function(){if(Qt)return ne;Qt=1;var e=t(),s="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},o=e.useState,r=e.useEffect,i=e.useLayoutEffect,n=e.useDebugValue;function a(t){var e=t.getSnapshot;t=t.value;try{var o=e();return!s(t,o)}catch(r){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var s=e(),c=o({inst:{value:s,getSnapshot:e}}),l=c[0].inst,u=c[1];return i(function(){l.value=s,l.getSnapshot=e,a(l)&&u({inst:l})},[t,s,e]),r(function(){return a(l)&&u({inst:l}),t(function(){a(l)&&u({inst:l})})},[t]),n(s),s};return ne.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:c,ne}()),ie.exports}
/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ce=(se||(se=1,oe.exports=function(){if(ee)return re;ee=1;var e=t(),s=ae(),o="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},r=s.useSyncExternalStore,i=e.useRef,n=e.useEffect,a=e.useMemo,c=e.useDebugValue;return re.useSyncExternalStoreWithSelector=function(t,e,s,l,u){var h=i(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=a(function(){function t(t){if(!n){if(n=!0,r=t,t=l(t),void 0!==u&&d.hasValue){var e=d.value;if(u(e,t))return i=e}return i=t}if(e=i,o(r,t))return e;var s=l(t);return void 0!==u&&u(e,s)?(r=t,e):(r=t,i=s)}var r,i,n=!1,a=void 0===s?null:s;return[function(){return t(e())},null===a?void 0:function(){return t(a())}]},[e,s,l,u]);var f=r(t,h[0],h[1]);return n(function(){d.hasValue=!0,d.value=f},[f]),c(f),f},re}()),oe.exports);function le(t,e=t=>t){return ce.useSyncExternalStoreWithSelector(t.subscribe,()=>t.state,()=>t.state,e,ue)}function ue(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,o]of t)if(!e.has(s)||!Object.is(o,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();const s=he(t);if(s.length!==he(e).length)return!1;for(let o=0;o<s.length;o++)if(!Object.prototype.hasOwnProperty.call(e,s[o])||!Object.is(t[s[o]],e[s[o]]))return!1;return!0}function he(t){return Object.keys(t).concat(Object.getOwnPropertySymbols(t))}const de=l.createContext(null);function fe(){return"undefined"==typeof document?de:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=de,de)}function pe(t){return l.useContext(fe())}function me(t){const e=pe(),s=t?.router||e,o=l.useRef(void 0);return le(s.__store,e=>{if(t?.select){if(t.structuralSharing??s.options.defaultStructuralSharing){const s=k(o.current,t.select(e));return o.current=s,s}return t.select(e)}return e})}const ve=l.createContext(void 0),ge=l.createContext(void 0);function ye(t){const e=l.useContext(t.from?ge:ve);return me({select:s=>{const o=s.matches.find(s=>t.from?t.from===s.routeId:s.id===e);if(U(!((t.shouldThrow??1)&&!o),t.from&&t.from),void 0!==o)return t.select?t.select(o):o},structuralSharing:t.structuralSharing})}function Se(t){return ye({from:t.from,strict:t.strict,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.loaderData):e.loaderData})}function be(t){const{select:e,...s}=t;return ye({...s,select:t=>e?e(t.loaderDeps):t.loaderDeps})}function Me(t){return ye({from:t.from,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,strict:t.strict,select:e=>{const s=!1===t.strict?e.params:e._strictParams;return t.select?t.select(s):s}})}function we(t){return ye({from:t.from,strict:t.strict,shouldThrow:t.shouldThrow,structuralSharing:t.structuralSharing,select:e=>t.select?t.select(e.search):e.search})}function _e(t){const e=pe();return l.useCallback(s=>e.navigate({...s,from:s.from??t?.from}),[t?.from,e])}var Le=s();const Re=e(Le),Pe="undefined"!=typeof window?l.useLayoutEffect:l.useEffect;function xe(t){const e=l.useRef({value:t,prev:null}),s=e.current.value;return t!==s&&(e.current={value:t,prev:s}),e.current.prev}const Ce={},Ee={className:"active"},Ie={role:"link","aria-disabled":!0},Fe={"data-status":"active","aria-current":"page"},Ve={"data-transitioning":"transitioning"},Te=new WeakMap,Ae={rootMargin:"100px"},ke=t=>e=>{for(const s of t)if(s){if(e.defaultPrevented)return;s(e)}},Oe=l.forwardRef((t,e)=>{const{_asChild:s,...o}=t,{type:r,ref:i,...n}=function(t,e){const s=pe(),[o,r]=l.useState(!1),i=l.useRef(!1),n=function(t){const e=l.useRef(null);return l.useImperativeHandle(t,()=>e.current,[]),e}(e),{activeProps:a,inactiveProps:c,activeOptions:u,to:h,preload:d,preloadDelay:f,hashScrollIntoView:p,replace:m,startTransition:v,resetScroll:g,viewTransition:y,children:S,target:b,disabled:M,style:w,className:_,onClick:L,onFocus:R,onMouseEnter:P,onMouseLeave:x,onTouchStart:C,ignoreBlocker:E,params:I,search:F,hash:V,state:A,mask:k,reloadDocument:O,unsafeRelative:j,from:$,_fromLocation:B,...W}=t,N=me({select:t=>t.location.search,structuralSharing:!0}),U=t.from,z=l.useMemo(()=>({...t,from:U}),[s,N,U,t._fromLocation,t.hash,t.to,t.search,t.params,t.state,t.mask,t.unsafeRelative]),K=l.useMemo(()=>s.buildLocation({...z}),[s,z]),H=l.useMemo(()=>{if(M)return;let t=K.maskedLocation?K.maskedLocation.url:K.url,e=!1;return s.origin&&(t.startsWith(s.origin)?t=s.history.createHref(t.replace(s.origin,""))||"/":e=!0),{href:t,external:e}},[M,K.maskedLocation,K.url,s.origin,s.history]),G=l.useMemo(()=>{if(H?.external)return H.href;try{return new URL(h),h}catch{}},[h,H]),q=!t.reloadDocument&&!G&&(d??s.options.defaultPreload),J=f??s.options.defaultPreloadDelay??0,Y=me({select:t=>{if(G)return!1;if(u?.exact){if(e=t.location.pathname,o=K.pathname,X(e,r=s.basepath)!==X(o,r))return!1}else{const e=X(t.location.pathname,s.basepath),o=X(K.pathname,s.basepath);if(!e.startsWith(o)||e.length!==o.length&&"/"!==e[o.length])return!1}var e,o,r;return!((u?.includeSearch??1)&&!D(t.location.search,K.search,{partial:!u?.exact,ignoreUndefined:!u?.explicitUndefined})||u?.includeHash&&t.location.hash!==K.hash)}}),Z=l.useCallback(()=>{s.preloadRoute({...z}).catch(t=>{})},[s,z]);if(function(t,e,s={},o={}){l.useEffect(()=>{if(!t.current||o.disabled||"function"!=typeof IntersectionObserver)return;const r=new IntersectionObserver(([t])=>{e(t)},s);return r.observe(t.current),()=>{r.disconnect()}},[e,s,o.disabled,t])}(n,l.useCallback(t=>{t?.isIntersecting&&Z()},[Z]),Ae,{disabled:!(!M&&"viewport"===q)}),l.useEffect(()=>{i.current||M||"render"!==q||(Z(),i.current=!0)},[M,Z,q]),G)return{...W,ref:n,href:G,...S&&{children:S},...b&&{target:b},...M&&{disabled:M},...w&&{style:w},..._&&{className:_},...L&&{onClick:L},...R&&{onFocus:R},...P&&{onMouseEnter:P},...x&&{onMouseLeave:x},...C&&{onTouchStart:C}};const Q=t=>{M||q&&Z()},tt=Q,et=Y?T(a,{})??Ee:Ce,st=Y?Ce:T(c,{})??Ce,ot=[_,et.className,st.className].filter(Boolean).join(" "),rt=(w||et.style||st.style)&&{...w,...et.style,...st.style};return{...W,...et,...st,href:H?.href,ref:n,onClick:ke([L,t=>{const e=t.currentTarget.target,o=void 0!==b?b:e;if(!(M||function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)||t.defaultPrevented||o&&"_self"!==o||0!==t.button)){t.preventDefault(),Le.flushSync(()=>{r(!0)});const e=s.subscribe("onResolved",()=>{e(),r(!1)});s.navigate({...z,replace:m,resetScroll:g,hashScrollIntoView:p,startTransition:v,viewTransition:y,ignoreBlocker:E})}}]),onFocus:ke([R,Q]),onMouseEnter:ke([P,t=>{if(!M&&q)if(J){const e=t.target;if(Te.has(e))return;const s=setTimeout(()=>{Te.delete(e),Z()},J);Te.set(e,s)}else Z()}]),onMouseLeave:ke([x,t=>{if(M||!q||!J)return;const e=t.target,s=Te.get(e);s&&(clearTimeout(s),Te.delete(e))}]),onTouchStart:ke([C,tt]),disabled:!!M,target:b,...rt&&{style:rt},...ot&&{className:ot},...M&&Ie,...Y&&Fe,...o&&Ve}}(o,e),a="function"==typeof o.children?o.children({isActive:"active"===n["data-status"]}):o.children;return void 0===s&&delete n.disabled,l.createElement(s||"a",{...n,ref:i},a)});class je extends Ht{constructor(t){super(t),this.useMatch=t=>ye({select:t?.select,from:this.id,structuralSharing:t?.structuralSharing}),this.useRouteContext=t=>ye({...t,from:this.id,select:e=>t?.select?t.select(e.context):e.context}),this.useSearch=t=>we({select:t?.select,structuralSharing:t?.structuralSharing,from:this.id}),this.useParams=t=>Me({select:t?.select,structuralSharing:t?.structuralSharing,from:this.id}),this.useLoaderDeps=t=>be({...t,from:this.id}),this.useLoaderData=t=>Se({...t,from:this.id}),this.useNavigate=()=>_e({from:this.fullPath}),this.Link=u.forwardRef((t,e)=>c.jsx(Oe,{ref:e,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}class $e extends Gt{constructor(t){super(t),this.useMatch=t=>ye({select:t?.select,from:this.id,structuralSharing:t?.structuralSharing}),this.useRouteContext=t=>ye({...t,from:this.id,select:e=>t?.select?t.select(e.context):e.context}),this.useSearch=t=>we({select:t?.select,structuralSharing:t?.structuralSharing,from:this.id}),this.useParams=t=>Me({select:t?.select,structuralSharing:t?.structuralSharing,from:this.id}),this.useLoaderDeps=t=>be({...t,from:this.id}),this.useLoaderData=t=>Se({...t,from:this.id}),this.useNavigate=()=>_e({from:this.fullPath}),this.Link=u.forwardRef((t,e)=>c.jsx(Oe,{ref:e,from:this.fullPath,...t})),this.$$typeof=Symbol.for("react.memo")}}function Be(t){return new $e(t)}function De(t){return"object"==typeof t?new We(t,{silent:!0}).createRoute(t):new We(t,{silent:!0}).createRoute}class We{constructor(t,e){this.path=t,this.createRoute=t=>{this.silent;const e=function(t){return new je(t)}(t);return e.isRoot=!1,e},this.silent=e?.silent}}class Ne{constructor(t){this.useMatch=t=>ye({select:t?.select,from:this.options.id,structuralSharing:t?.structuralSharing}),this.useRouteContext=t=>ye({from:this.options.id,select:e=>t?.select?t.select(e.context):e.context}),this.useSearch=t=>we({select:t?.select,structuralSharing:t?.structuralSharing,from:this.options.id}),this.useParams=t=>Me({select:t?.select,structuralSharing:t?.structuralSharing,from:this.options.id}),this.useLoaderDeps=t=>be({...t,from:this.options.id}),this.useLoaderData=t=>Se({...t,from:this.options.id}),this.useNavigate=()=>_e({from:pe().routesById[this.options.id].fullPath}),this.options=t,this.$$typeof=Symbol.for("react.memo")}}function Ue(t){return"object"==typeof t?new Ne(t):e=>new Ne({id:t,...e})}function ze(){const t=pe(),e=l.useRef({router:t,mounted:!1}),[s,o]=l.useState(!1),{hasPendingMatches:r,isLoading:i}=me({select:t=>({isLoading:t.isLoading,hasPendingMatches:t.matches.some(t=>"pending"===t.status)}),structuralSharing:!0}),n=xe(i),a=i||s||r,c=xe(a),u=i||r,h=xe(u);return t.startTransition=t=>{o(!0),l.startTransition(()=>{t(),o(!1)})},l.useEffect(()=>{const e=t.history.subscribe(t.load),s=t.buildLocation({to:t.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});return q(t.latestLocation.href)!==q(s.href)&&t.commitLocation({...s,replace:!0}),()=>{e()}},[t,t.history]),Pe(()=>{"undefined"!=typeof window&&t.ssr||e.current.router===t&&e.current.mounted||(e.current={router:t,mounted:!0},(async()=>{try{await t.load()}catch(e){}})())},[t]),Pe(()=>{n&&!i&&t.emit({type:"onLoad",...Wt(t.state)})},[n,t,i]),Pe(()=>{h&&!u&&t.emit({type:"onBeforeRouteMount",...Wt(t.state)})},[u,h,t]),Pe(()=>{c&&!a&&(t.emit({type:"onResolved",...Wt(t.state)}),t.__store.setState(t=>({...t,status:"idle",resolvedLocation:t.location})),function(t){if("undefined"!=typeof document&&document.querySelector){const e=t.state.location.state.__hashScrollIntoViewOptions??!0;if(e&&""!==t.state.location.hash){const s=document.getElementById(t.state.location.hash);s&&s.scrollIntoView(e)}}}(t))},[a,c,t]),null}function Ke(t){const e=me({select:t=>`not-found-${t.location.pathname}-${t.status}`});return c.jsx(qt,{getResetKey:()=>e,onCatch:(e,s)=>{if(!ht(e))throw e;t.onCatch?.(e,s)},errorComponent:({error:e})=>{if(ht(e))return t.fallback?.(e);throw e},children:t.children})}function He(){return c.jsx("p",{children:"Not Found"})}function Ge(t){return c.jsx(c.Fragment,{children:t.children})}function qe(t,e,s){return e.options.notFoundComponent?c.jsx(e.options.notFoundComponent,{data:s}):t.options.defaultNotFoundComponent?c.jsx(t.options.defaultNotFoundComponent,{data:s}):c.jsx(He,{})}function Je({children:t}){const e=pe();return e.isServer?c.jsx("script",{nonce:e.options.ssr?.nonce,className:"$tsr",dangerouslySetInnerHTML:{__html:[t].filter(Boolean).join("\n")+";$_TSR.c()"}}):null}function Xe(){const t=pe();if(!t.isScrollRestoring||!t.isServer)return null;if("function"==typeof t.options.scrollRestoration&&!t.options.scrollRestoration({location:t.latestLocation}))return null;const e=(t.options.getScrollRestorationKey||pt)(t.latestLocation),s=e!==pt(t.latestLocation)?e:void 0,o={storageKey:dt,shouldScrollRestoration:!0};return s&&(o.key=s),c.jsx(Je,{children:`(${vt.toString()})(${JSON.stringify(o)})`})}const Ye=l.memo(function({matchId:t}){const e=pe(),s=me({select:e=>{const s=e.matches.find(e=>e.id===t);return U(s),{routeId:s.routeId,ssr:s.ssr,_displayPending:s._displayPending}},structuralSharing:!0}),o=e.routesById[s.routeId],r=o.options.pendingComponent??e.options.defaultPendingComponent,i=r?c.jsx(r,{}):null,n=o.options.errorComponent??e.options.defaultErrorComponent,a=o.options.onCatch??e.options.defaultOnCatch,u=o.isRoot?o.options.notFoundComponent??e.options.notFoundRoute?.options.component:o.options.notFoundComponent,h=!1===s.ssr||"data-only"===s.ssr,d=(!o.isRoot||o.options.wrapInSuspense||h)&&(o.options.wrapInSuspense??r??(o.options.errorComponent?.preload||h))?l.Suspense:Ge,f=n?qt:Ge,p=u?Ke:Ge,m=me({select:t=>t.loadedAt}),v=me({select:e=>{const s=e.matches.findIndex(e=>e.id===t);return e.matches[s-1]?.routeId}}),g=o.isRoot?o.options.shellComponent??Ge:Ge;return c.jsxs(g,{children:[c.jsx(ve.Provider,{value:t,children:c.jsx(d,{fallback:i,children:c.jsx(f,{getResetKey:()=>m,errorComponent:n||Xt,onCatch:(t,e)=>{if(ht(t))throw t;a?.(t,e)},children:c.jsx(p,{fallback:t=>{if(!u||t.routeId&&t.routeId!==s.routeId||!t.routeId&&!o.isRoot)throw t;return l.createElement(u,t)},children:h||s._displayPending?c.jsx(Yt,{fallback:i,children:c.jsx(Qe,{matchId:t})}):c.jsx(Qe,{matchId:t})})})})}),v===z&&e.options.scrollRestoration?c.jsxs(c.Fragment,{children:[c.jsx(Ze,{}),c.jsx(Xe,{})]}):null]})});function Ze(){const t=pe(),e=l.useRef(void 0);return c.jsx("script",{suppressHydrationWarning:!0,ref:s=>{!s||void 0!==e.current&&e.current.href===t.latestLocation.href||(t.emit({type:"onRendered",...Wt(t.state)}),e.current=t.latestLocation)}},t.latestLocation.state.__TSR_key)}const Qe=l.memo(function({matchId:t}){const e=pe(),{match:s,key:o,routeId:r}=me({select:s=>{const o=s.matches.find(e=>e.id===t),r=o.routeId,i=e.routesById[r].options.remountDeps??e.options.defaultRemountDeps,n=i?.({routeId:r,loaderDeps:o.loaderDeps,params:o._strictParams,search:o._strictSearch});return{key:n?JSON.stringify(n):void 0,routeId:r,match:{id:o.id,status:o.status,error:o.error,_forcePending:o._forcePending,_displayPending:o._displayPending}}},structuralSharing:!0}),i=e.routesById[r],n=l.useMemo(()=>{const t=i.options.component??e.options.defaultComponent;return t?c.jsx(t,{},o):c.jsx(ts,{})},[o,i.options.component,e.options.defaultComponent]);if(s._displayPending)throw e.getMatch(s.id)?._nonReactive.displayPendingPromise;if(s._forcePending)throw e.getMatch(s.id)?._nonReactive.minPendingPromise;if("pending"===s.status){const t=i.options.pendingMinMs??e.options.defaultPendingMinMs;if(t){const o=e.getMatch(s.id);if(o&&!o._nonReactive.minPendingPromise&&!e.isServer){const e=W();o._nonReactive.minPendingPromise=e,setTimeout(()=>{e.resolve(),o._nonReactive.minPendingPromise=void 0},t)}}throw e.getMatch(s.id)?._nonReactive.loadPromise}if("notFound"===s.status)return U(ht(s.error)),qe(e,i,s.error);if("redirected"===s.status)throw U(Mt(s.error)),e.getMatch(s.id)?._nonReactive.loadPromise;if("error"===s.status){if(e.isServer){const t=(i.options.errorComponent??e.options.defaultErrorComponent)||Xt;return c.jsx(t,{error:s.error,reset:void 0,info:{componentStack:""}})}throw s.error}return n}),ts=l.memo(function(){const t=pe(),e=l.useContext(ve),s=me({select:t=>t.matches.find(t=>t.id===e)?.routeId}),o=t.routesById[s],r=me({select:t=>{const s=t.matches.find(t=>t.id===e);return U(s),s.globalNotFound}}),i=me({select:t=>{const s=t.matches,o=s.findIndex(t=>t.id===e);return s[o+1]?.id}}),n=t.options.defaultPendingComponent?c.jsx(t.options.defaultPendingComponent,{}):null;if(r)return qe(t,o,void 0);if(!i)return null;const a=c.jsx(Ye,{matchId:i});return e===z?c.jsx(l.Suspense,{fallback:n,children:a}):a});function es(){const t=pe(),e=t.options.defaultPendingComponent?c.jsx(t.options.defaultPendingComponent,{}):null,s=t.isServer||"undefined"!=typeof document&&t.ssr?Ge:l.Suspense,o=c.jsxs(s,{fallback:e,children:[!t.isServer&&c.jsx(ze,{}),c.jsx(ss,{})]});return t.options.InnerWrap?c.jsx(t.options.InnerWrap,{children:o}):o}function ss(){const t=pe(),e=me({select:t=>t.matches[0]?.id}),s=me({select:t=>t.loadedAt}),o=e?c.jsx(Ye,{matchId:e}):null;return c.jsx(ve.Provider,{value:e,children:t.options.disableGlobalCatchBoundary?o:c.jsx(qt,{getResetKey:()=>s,errorComponent:Xt,onCatch:t=>{t.message||t.toString()},children:o})})}const os=t=>new rs(t);class rs extends Nt{constructor(t){super(t)}}function is({router:t,children:e,...s}){Object.keys(s).length>0&&t.update({...t.options,...s,context:{...t.options.context,...s.context}});const o=fe(),r=c.jsx(o.Provider,{value:t,children:e});return t.options.Wrap?c.jsx(t.options.Wrap,{children:r}):r}function ns({router:t,...e}){return c.jsx(is,{router:t,...e,children:c.jsx(es,{})})}function as(t){return me({select:t=>t.location})}function cs(t,e){return"function"==typeof t?t(e):t}function ls(t,e){return ys(e).reduce((t,e)=>null===t?null:void 0!==t?t[e]:void 0,t)}function us(t,e,s){const o=ys(e);return function t(e){if(!o.length)return cs(s,e);const r=o.shift();if("string"==typeof r||"number"==typeof r&&!Array.isArray(e))return"object"==typeof e?(null===e&&(e={}),{...e,[r]:t(e[r])}):{[r]:t()};if(Array.isArray(e)&&"number"==typeof r){const s=e.slice(0,r);return[...s.length?s:new Array(r),t(e[r]),...e.slice(r+1)]}return[...new Array(r),t()]}(t)}"undefined"!=typeof globalThis?(globalThis.createFileRoute=De,globalThis.createLazyFileRoute=Ue):"undefined"!=typeof window&&(window.createFileRoute=De,window.createLazyFileRoute=Ue);const hs=/^(\d+)$/gm,ds=/\.(\d+)(?=\.)/gm,fs=/^(\d+)\./gm,ps=/\.(\d+$)/gm,ms=/\.{2,}/gm,vs="__int__",gs=`${vs}$1`;function ys(t){if(Array.isArray(t))return[...t];if("string"!=typeof t)throw new Error("Path must be a string.");return t.replace(/(^\[)|]/gm,"").replace(/\[/g,".").replace(hs,gs).replace(ds,`.${gs}.`).replace(fs,`${gs}.`).replace(ps,`.${gs}`).replace(ms,".").split(".").map(t=>{if(t.startsWith(vs)){const e=t.substring(vs.length),s=parseInt(e,10);return String(s)===e?s:e}return t})}function Ss(t){return!(Array.isArray(t)&&0===t.length)}function bs(t,e){return e.validationLogic({form:e.form,validators:e.validators,event:{type:t,async:!1},runValidation:t=>t.validators.filter(Boolean).map(t=>({cause:t.cause,validate:t.fn}))})}function Ms(t,e){const{asyncDebounceMs:s}=e,{onBlurAsyncDebounceMs:o,onChangeAsyncDebounceMs:r,onDynamicAsyncDebounceMs:i}=e.validators||{},n=s??0;return e.validationLogic({form:e.form,validators:e.validators,event:{type:t,async:!0},runValidation:e=>e.validators.filter(Boolean).map(e=>{const s=e?.cause||t;let a=n;switch(s){case"change":a=r??n;break;case"blur":a=o??n;break;case"dynamic":a=i??n;break;case"submit":a=0}return"submit"===t&&(a=0),{cause:s,validate:e.fn,debounceMs:a}})})}const ws=t=>!!t&&"object"==typeof t&&"fields"in t;function _s(t,e){if(Object.is(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[s,o]of t)if(!e.has(s)||!Object.is(o,e.get(s)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const s of t)if(!e.has(s))return!1;return!0}const s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;for(const r of s)if(!o.includes(r)||!_s(t[r],e[r]))return!1;return!0}const Ls=({newFormValidatorError:t,isPreviousErrorFromFormValidator:e,previousErrorValue:s})=>t?{newErrorValue:t,newSource:"form"}:e?{newErrorValue:void 0,newSource:void 0}:s?{newErrorValue:s,newSource:"field"}:{newErrorValue:void 0,newSource:void 0},Rs=({formLevelError:t,fieldLevelError:e})=>e?{newErrorValue:e,newSource:"field"}:t?{newErrorValue:t,newSource:"form"}:{newErrorValue:void 0,newSource:void 0};function Ps(t,e){return null==t?e:{...t,...e}}let xs=256;const Cs=[];let Es;for(;xs--;)Cs[xs]=(xs+256).toString(16).substring(1);const Is=t=>{if(!t.validators)return t.runValidation({validators:[],form:t.form});const e=t.event.async,s=e?void 0:{fn:t.validators.onMount,cause:"mount"},o={fn:e?t.validators.onChangeAsync:t.validators.onChange,cause:"change"},r={fn:e?t.validators.onBlurAsync:t.validators.onBlur,cause:"blur"},i={fn:e?t.validators.onSubmitAsync:t.validators.onSubmit,cause:"submit"},n=e?void 0:{fn:()=>{},cause:"server"};switch(t.event.type){case"mount":return t.runValidation({validators:[s],form:t.form});case"submit":return t.runValidation({validators:[o,r,i,n],form:t.form});case"server":return t.runValidation({validators:[],form:t.form});case"blur":return t.runValidation({validators:[r,n],form:t.form});case"change":return t.runValidation({validators:[o,n],form:t.form});default:throw new Error(`Unknown validation event type: ${t.event.type}`)}},Fs=(t,e)=>{const s=function(t,e){const s=new Map;for(const o of t){const t=o.path??[];let r=e,i="";for(let e=0;e<t.length;e++){const s=t[e];if(void 0===s)continue;const o="object"==typeof s?s.key:s,n=Number(o);Array.isArray(r)&&!Number.isNaN(n)?i+=`[${n}]`:i+=(e>0?".":"")+String(o),r="object"==typeof r&&null!==r?r[o]:void 0}s.set(i,(s.get(i)??[]).concat(o))}return Object.fromEntries(s)}(t,e);return{form:s,fields:s}},Vs={validate({value:t,validationSource:e},s){const o=s["~standard"].validate(t);if(o instanceof Promise)throw new Error("async function passed to sync validator");if(o.issues)return"field"===e?o.issues:Fs(o.issues,t)},async validateAsync({value:t,validationSource:e},s){const o=await s["~standard"].validate(t);if(o.issues)return"field"===e?o.issues:Fs(o.issues,t)}},Ts=t=>!!t&&"~standard"in t,As={isValidating:!1,isTouched:!1,isBlurred:!1,isDirty:!1,isPristine:!0,isValid:!0,isDefaultValue:!0,errors:[],errorMap:{},errorSourceMap:{}};function ks(t){function e(t,e){return`${t}[${e}]`}function s(e,s){("up"===s?e:[...e].reverse()).forEach(e=>{const r=function(t,e){return t.replace(/\[(\d+)\]/,(t,s)=>{const o=parseInt(s,10);return`[${"up"===e?o+1:Math.max(0,o-1)}]`})}(e.toString(),s),i=t.getFieldMeta(r);i?t.setFieldMeta(e,i):t.setFieldMeta(e,o())})}const o=()=>As;return{handleArrayFieldMetaShift:function(r,i,n,a){const c=function(s,o,r,i){const n=[e(s,o)];if("swap"===r)n.push(e(s,i));else if("move"===r){const[t,r]=[Math.min(o,i),Math.max(o,i)];for(let o=t;o<=r;o++)n.push(e(s,o))}else{const r=t.getFieldValue(s),i=Array.isArray(r)?r.length:0;for(let t=o+1;t<i;t++)n.push(e(s,t))}return Object.keys(t.fieldInfo).filter(t=>n.some(e=>t.startsWith(e)))}(r,i,n,a);({insert:()=>((r,i,n)=>{s(r,"down"),r.forEach(s=>{s.toString().startsWith(e(i,n))&&t.setFieldMeta(s,o())})})(c,r,i),remove:()=>{s(c,"up")},swap:()=>void 0!==a&&((s,o,r,i)=>{s.forEach(s=>{if(!s.toString().startsWith(e(o,r)))return;const n=s.toString().replace(e(o,r),e(o,i)),[a,c]=[t.getFieldMeta(s),t.getFieldMeta(n)];a&&t.setFieldMeta(n,a),c&&t.setFieldMeta(s,c)})})(c,r,i,a),move:()=>void 0!==a&&((o,r,i,n)=>{const a=new Map(Object.keys(t.fieldInfo).filter(t=>t.startsWith(e(r,i))).map(e=>[e,t.getFieldMeta(e)]));s(o,i<n?"up":"down"),Object.keys(t.fieldInfo).filter(t=>t.startsWith(e(r,n))).forEach(s=>{const o=s.replace(e(r,n),e(r,i)),c=a.get(o);c&&t.setFieldMeta(s,c)})})(c,r,i,a)})[n]()}}}class Os{#t=!0;#e;#s;#o;#r;#i;#n;#a;#c=0;#l=5;#u=()=>{this.debugLog("Connected to event bus"),this.#i=!0,this.debugLog("Emitting queued events",this.#r),this.#r.forEach(t=>this.emitEventToBus(t)),this.#r=[],this.stopConnectLoop(),this.#s().removeEventListener("tanstack-connect-success",this.#u)};#h=()=>{if(this.#s().addEventListener("tanstack-connect-success",this.#u),this.#c<this.#l)return this.#c++,void this.dispatchCustomEvent("tanstack-connect",{});this.#s().removeEventListener("tanstack-connect",this.#h),this.debugLog("Max retries reached, giving up on connection"),this.stopConnectLoop()};constructor({pluginId:t,debug:e=!1,enabled:s=!0}){this.#e=t,this.#t=s,this.#s=this.getGlobalTarget,this.#o=e,this.debugLog(" Initializing event subscription for plugin",this.#e),this.#r=[],this.#i=!1,this.#n=null,this.#a=500}startConnectLoop(){null!==this.#n||this.#i||(this.debugLog(`Starting connect loop (every ${this.#a}ms)`),this.#n=setInterval(this.#h,this.#a))}stopConnectLoop(){null!==this.#n&&(clearInterval(this.#n),this.#n=null,this.debugLog("Stopped connect loop"))}debugLog(...t){this.#o}getGlobalTarget(){if("undefined"!=typeof globalThis&&globalThis.__TANSTACK_EVENT_TARGET__)return this.debugLog("Using global event target"),globalThis.__TANSTACK_EVENT_TARGET__;if("undefined"!=typeof window&&void 0!==window.addEventListener)return this.debugLog("Using window as event target"),window;const t="undefined"!=typeof EventTarget?new EventTarget:void 0;return void 0===t||void 0===t.addEventListener?(this.debugLog("No event mechanism available, running in non-web environment"),{addEventListener:()=>{},removeEventListener:()=>{},dispatchEvent:()=>!1}):(this.debugLog("Using new EventTarget as fallback"),t)}getPluginId(){return this.#e}dispatchCustomEventShim(t,e){try{const s=new Event(t,{detail:e});this.#s().dispatchEvent(s)}catch(s){this.debugLog("Failed to dispatch shim event")}}dispatchCustomEvent(t,e){try{this.#s().dispatchEvent(new CustomEvent(t,{detail:e}))}catch(s){this.dispatchCustomEventShim(t,e)}}emitEventToBus(t){this.debugLog("Emitting event to client bus",t),this.dispatchCustomEvent("tanstack-dispatch-event",t)}emit(t,e){if(this.#t)return this.#i?this.emitEventToBus({type:`${this.#e}:${t}`,payload:e,pluginId:this.#e}):(this.debugLog("Bus not available, will be pushed as soon as connected"),this.#r.push({type:`${this.#e}:${t}`,payload:e,pluginId:this.#e}),void("undefined"!=typeof CustomEvent&&(this.#h(),this.startConnectLoop())));this.debugLog("Event bus client is disabled, not emitting event",t,e)}on(t,e){const s=`${this.#e}:${t}`;if(!this.#t)return this.debugLog("Event bus client is disabled, not registering event",s),()=>{};const o=t=>{this.debugLog("Received event from bus",t.detail),e(t.detail)};return this.#s().addEventListener(s,o),this.debugLog("Registered event to bus",s),()=>{this.#s().removeEventListener(s,o)}}onAll(t){if(!this.#t)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const e=e=>{const s=e.detail;t(s)};return this.#s().addEventListener("tanstack-devtools-global",e),()=>this.#s().removeEventListener("tanstack-devtools-global",e)}onAllPluginEvents(t){if(!this.#t)return this.debugLog("Event bus client is disabled, not registering event"),()=>{};const e=e=>{const s=e.detail;this.#e&&s.pluginId!==this.#e||t(s)};return this.#s().addEventListener("tanstack-devtools-global",e),()=>this.#s().removeEventListener("tanstack-devtools-global",e)}}const js=new class extends Os{constructor(){super({pluginId:"form-devtools"})}};function $s(t){return{values:t.values??{},errorMap:t.errorMap??{},fieldMetaBase:t.fieldMetaBase??{},isSubmitted:t.isSubmitted??!1,isSubmitting:t.isSubmitting??!1,isValidating:t.isValidating??!1,submissionAttempts:t.submissionAttempts??0,isSubmitSuccessful:t.isSubmitSuccessful??!1,validationMetaMap:t.validationMetaMap??{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}}}class Bs{constructor(t){this.options={},this.fieldInfo={},this.prevTransformArray=[],this.mount=()=>{const t=this.fieldMetaDerived.mount(),e=this.store.mount(),s=()=>{t(),e(),js.emit("form-unmounted",{id:this._formId})};this.options.listeners?.onMount?.({formApi:this});const{onMount:o}=this.options.validators||{};return js.emit("form-state-change",{id:this._formId,state:this.store.state,options:this.options}),o?(this.validateSync("mount"),s):s},this.update=t=>{if(!t)return;const e=this.options;this.options=t;const s=!!t.transform?.deps?.some((t,e)=>t!==this.prevTransformArray[e]),o=t.defaultValues&&!_s(t.defaultValues,e.defaultValues)&&!this.state.isTouched,r=!_s(t.defaultState,e.defaultState)&&!this.state.isTouched;(o||r||s)&&_(()=>{this.baseStore.setState(()=>$s(Object.assign({},this.state,r?t.defaultState:{},o?{values:t.defaultValues}:{},s?{_force_re_eval:!this.state._force_re_eval}:{})))})},this.reset=(t,e)=>{const{fieldMeta:s}=this.state,o=this.resetFieldMeta(s);t&&!e?.keepDefaultValues&&(this.options={...this.options,defaultValues:t}),this.baseStore.setState(()=>$s({...this.options.defaultState,values:t??this.options.defaultValues??this.options.defaultState?.values,fieldMetaBase:o}))},this.validateAllFields=async t=>{const e=[];return _(()=>{Object.values(this.fieldInfo).forEach(s=>{if(!s.instance)return;const o=s.instance;e.push(Promise.resolve().then(()=>o.validate(t,{skipFormValidation:!0}))),s.instance.state.meta.isTouched||s.instance.setMeta(t=>({...t,isTouched:!0}))})}),(await Promise.all(e)).flat()},this.validateArrayFieldsStartingFrom=async(t,e,s)=>{const o=this.getFieldValue(t),r=Array.isArray(o)?Math.max(o.length-1,0):null,i=[`${t}[${e}]`];for(let c=e+1;c<=(r??0);c++)i.push(`${t}[${c}]`);const n=Object.keys(this.fieldInfo).filter(t=>i.some(e=>t.startsWith(e))),a=[];return _(()=>{n.forEach(t=>{a.push(Promise.resolve().then(()=>this.validateField(t,s)))})}),(await Promise.all(a)).flat()},this.validateField=(t,e)=>{const s=this.fieldInfo[t]?.instance;return s?(s.state.meta.isTouched||s.setMeta(t=>({...t,isTouched:!0})),s.validate(e)):[]},this.validateSync=t=>{const e=bs(t,{...this.options,form:this,validationLogic:this.options.validationLogic||Is});let s=!1;const o={};return _(()=>{for(const t of e){if(!t.validate)continue;const e=this.runValidator({validate:t.validate,value:{value:this.state.values,formApi:this,validationSource:"form"},type:"validate"}),{formError:r,fieldErrors:i}=Ds(e),n=Ws(t.cause);for(const t of Object.keys(this.state.fieldMeta)){if(void 0===this.baseStore.state.fieldMetaBase[t])continue;const e=this.getFieldMeta(t);if(!e)continue;const{errorMap:s,errorSourceMap:r}=e,a=i?.[t],{newErrorValue:c,newSource:l}=Ls({newFormValidatorError:a,isPreviousErrorFromFormValidator:"form"===r?.[n],previousErrorValue:s?.[n]});"form"===l&&(o[t]={...o[t],[n]:a}),s?.[n]!==c&&this.setFieldMeta(t,t=>({...t,errorMap:{...t.errorMap,[n]:c},errorSourceMap:{...t.errorSourceMap,[n]:l}}))}this.state.errorMap?.[n]!==r&&this.baseStore.setState(t=>({...t,errorMap:{...t.errorMap,[n]:r}})),(r||i)&&(s=!0)}const r=Ws("submit");this.state.errorMap?.[r]&&"submit"!==t&&!s&&this.baseStore.setState(t=>({...t,errorMap:{...t.errorMap,[r]:void 0}}));const i=Ws("server");this.state.errorMap?.[i]&&"server"!==t&&!s&&this.baseStore.setState(t=>({...t,errorMap:{...t.errorMap,[i]:void 0}}))}),{hasErrored:s,fieldsErrorMap:o}},this.validateAsync=async t=>{const e=Ms(t,{...this.options,form:this,validationLogic:this.options.validationLogic||Is});this.state.isFormValidating||this.baseStore.setState(t=>({...t,isFormValidating:!0}));const s=[];let o;for(const n of e){if(!n.validate)continue;const t=Ws(n.cause),e=this.state.validationMetaMap[t];e?.lastAbortController.abort();const r=new AbortController;this.state.validationMetaMap[t]={lastAbortController:r},s.push(new Promise(async t=>{let e;try{e=await new Promise((t,e)=>{setTimeout(async()=>{if(r.signal.aborted)return t(void 0);try{t(await this.runValidator({validate:n.validate,value:{value:this.state.values,formApi:this,validationSource:"form",signal:r.signal},type:"validateAsync"}))}catch(s){e(s)}},n.debounceMs)})}catch(c){e=c}const{formError:s,fieldErrors:i}=Ds(e);i&&(o=o?{...o,...i}:i);const a=Ws(n.cause);for(const r of Object.keys(this.state.fieldMeta)){if(void 0===this.baseStore.state.fieldMetaBase[r])continue;const t=this.getFieldMeta(r);if(!t)continue;const{errorMap:e,errorSourceMap:s}=t,i=o?.[r],{newErrorValue:n,newSource:c}=Ls({newFormValidatorError:i,isPreviousErrorFromFormValidator:"form"===s?.[a],previousErrorValue:e?.[a]});e?.[a]!==n&&this.setFieldMeta(r,t=>({...t,errorMap:{...t.errorMap,[a]:n},errorSourceMap:{...t.errorSourceMap,[a]:c}}))}this.baseStore.setState(t=>({...t,errorMap:{...t.errorMap,[a]:s}})),t(o?{fieldErrors:o,errorMapKey:a}:void 0)}))}let r=[];const i={};if(s.length){r=await Promise.all(s);for(const t of r)if(t?.fieldErrors){const{errorMapKey:e}=t;for(const[s,o]of Object.entries(t.fieldErrors)){const t={...i[s]||{},[e]:o};i[s]=t}}}return this.baseStore.setState(t=>({...t,isFormValidating:!1})),i},this.validate=t=>{const{hasErrored:e,fieldsErrorMap:s}=this.validateSync(t);return e&&!this.options.asyncAlways?s:this.validateAsync(t)},this.getFieldValue=t=>ls(this.state.values,t),this.getFieldMeta=t=>this.state.fieldMeta[t],this.getFieldInfo=t=>this.fieldInfo[t]||={instance:null,validationMetaMap:{onChange:void 0,onBlur:void 0,onSubmit:void 0,onMount:void 0,onServer:void 0,onDynamic:void 0}},this.setFieldMeta=(t,e)=>{this.baseStore.setState(s=>({...s,fieldMetaBase:{...s.fieldMetaBase,[t]:cs(e,s.fieldMetaBase[t])}}))},this.resetFieldMeta=t=>Object.keys(t).reduce((t,e)=>(t[e]=As,t),{}),this.setFieldValue=(t,e,s)=>{const o=s?.dontUpdateMeta??!1,r=s?.dontRunListeners??!1,i=s?.dontValidate??!1;_(()=>{o||this.setFieldMeta(t,t=>({...t,isTouched:!0,isDirty:!0,errorMap:{...t?.errorMap,onMount:void 0}})),this.baseStore.setState(s=>({...s,values:us(s.values,t,e)}))}),r||this.getFieldInfo(t).instance?.triggerOnChangeListener(),i||this.validateField(t,"change")},this.deleteField=t=>{const e=[...Object.keys(this.fieldInfo).filter(e=>{const s=t.toString();return e!==s&&e.startsWith(s)}),t];this.baseStore.setState(t=>{const s={...t};return e.forEach(t=>{s.values=function(t,e){const s=ys(e);return function t(e){if(!e)return;if(1===s.length){const t=s[0];if(Array.isArray(e)&&"number"==typeof t)return e.filter((e,s)=>s!==t);const{[t]:o,...r}=e;return r}const o=s.shift();if("string"==typeof o&&"object"==typeof e)return{...e,[o]:t(e[o])};if("number"==typeof o&&Array.isArray(e)){if(o>=e.length)return e;const s=e.slice(0,o);return[...s.length?s:new Array(o),t(e[o]),...e.slice(o+1)]}throw new Error("It seems we have created an infinite loop in deleteBy. ")}(t)}(s.values,t),delete this.fieldInfo[t],delete s.fieldMetaBase[t]}),s})},this.pushFieldValue=(t,e,s)=>{this.setFieldValue(t,t=>[...Array.isArray(t)?t:[],e],s)},this.insertFieldValue=async(t,e,s,o)=>{this.setFieldValue(t,t=>[...t.slice(0,e),s,...t.slice(e)],Ps(o,{dontValidate:!0}));const r=o?.dontValidate??!1;r||await this.validateField(t,"change"),ks(this).handleArrayFieldMetaShift(t,e,"insert"),r||await this.validateArrayFieldsStartingFrom(t,e,"change")},this.replaceFieldValue=async(t,e,s,o)=>{this.setFieldValue(t,t=>t.map((t,o)=>o===e?s:t),Ps(o,{dontValidate:!0})),o?.dontValidate||(await this.validateField(t,"change"),await this.validateArrayFieldsStartingFrom(t,e,"change"))},this.removeFieldValue=async(t,e,s)=>{const o=this.getFieldValue(t),r=Array.isArray(o)?Math.max(o.length-1,0):null;if(this.setFieldValue(t,t=>t.filter((t,s)=>s!==e),Ps(s,{dontValidate:!0})),ks(this).handleArrayFieldMetaShift(t,e,"remove"),null!==r){const e=`${t}[${r}]`;this.deleteField(e)}s?.dontValidate||(await this.validateField(t,"change"),await this.validateArrayFieldsStartingFrom(t,e,"change"))},this.swapFieldValues=(t,e,s,o)=>{this.setFieldValue(t,t=>{const o=t[e],r=t[s];return us(us(t,`${e}`,r),`${s}`,o)},Ps(o,{dontValidate:!0})),ks(this).handleArrayFieldMetaShift(t,e,"swap",s),o?.dontValidate||(this.validateField(t,"change"),this.validateField(`${t}[${e}]`,"change"),this.validateField(`${t}[${s}]`,"change"))},this.moveFieldValues=(t,e,s,o)=>{this.setFieldValue(t,t=>{const o=[...t];return o.splice(s,0,o.splice(e,1)[0]),o},Ps(o,{dontValidate:!0})),ks(this).handleArrayFieldMetaShift(t,e,"move",s),o?.dontValidate||(this.validateField(t,"change"),this.validateField(`${t}[${e}]`,"change"),this.validateField(`${t}[${s}]`,"change"))},this.clearFieldValues=(t,e)=>{const s=this.getFieldValue(t),o=Array.isArray(s)?Math.max(s.length-1,0):null;if(this.setFieldValue(t,[],Ps(e,{dontValidate:!0})),null!==o)for(let r=0;r<=o;r++){const e=`${t}[${r}]`;this.deleteField(e)}e?.dontValidate||this.validateField(t,"change")},this.resetField=t=>{this.baseStore.setState(e=>({...e,fieldMetaBase:{...e.fieldMetaBase,[t]:As},values:this.options.defaultValues?us(e.values,t,ls(this.options.defaultValues,t)):e.values}))},this.getAllErrors=()=>({form:{errors:this.state.errors,errorMap:this.state.errorMap},fields:Object.entries(this.state.fieldMeta).reduce((t,[e,s])=>(Object.keys(s).length&&s.errors.length&&(t[e]={errors:s.errors,errorMap:s.errorMap}),t),{})}),this.parseValuesWithSchema=t=>Vs.validate({value:this.state.values,validationSource:"form"},t),this.parseValuesWithSchemaAsync=t=>Vs.validateAsync({value:this.state.values,validationSource:"form"},t),this.timeoutIds={validations:{},listeners:{},formListeners:{}},this._formId=t?.formId??function(){let t,e=0,s="";if(!Es||xs+16>256){for(Es=new Array(256),e=256;e--;)Es[e]=256*Math.random()|0;e=0,xs=0}for(;e<16;e++)t=Es[xs+e],s+=6===e?Cs[15&t|64]:8===e?Cs[63&t|128]:Cs[t],1&e&&e>1&&e<11&&(s+="-");return xs++,s}(),this._devtoolsSubmissionOverride=!1,this.baseStore=new L($s({...t?.defaultState,values:t?.defaultValues??t?.defaultState?.values})),this.fieldMetaDerived=new R({deps:[this.baseStore],fn:({prevDepVals:t,currDepVals:e,prevVal:s})=>{const o=s,r=t?.[0],i=e[0];let n=0;const a={};for(const c of Object.keys(i.fieldMetaBase)){const t=i.fieldMetaBase[c],e=r?.fieldMetaBase[c],s=o?.[c],l=ls(i.values,c);let u=s?.errors;if(!e||t.errorMap!==e.errorMap){u=Object.values(t.errorMap??{}).filter(t=>void 0!==t);const e=this.getFieldInfo(c)?.instance;e&&!e.options.disableErrorFlat&&(u=u?.flat(1))}const h=!Ss(u??[]),d=!t.isDirty,f=_s(l,ls(this.options.defaultValues,c))||_s(l,this.getFieldInfo(c)?.instance?.options.defaultValue);s&&s.isPristine===d&&s.isValid===h&&s.isDefaultValue===f&&s.errors===u&&t===e?(a[c]=s,n++):a[c]={...t,errors:u,isPristine:d,isValid:h,isDefaultValue:f}}return Object.keys(i.fieldMetaBase).length&&o&&n===Object.keys(i.fieldMetaBase).length?o:a}}),this.store=new R({deps:[this.baseStore,this.fieldMetaDerived],fn:({prevDepVals:t,currDepVals:e,prevVal:s})=>{const o=s,r=t?.[0],i=e[0],n=e[1],a=Object.values(n).filter(Boolean),c=a.some(t=>t.isValidating),l=a.every(t=>t.isValid),u=a.some(t=>t.isTouched),h=a.some(t=>t.isBlurred),d=a.every(t=>t.isDefaultValue),f=u&&i.errorMap?.onMount,p=a.some(t=>t.isDirty),m=!p,v=Boolean(i.errorMap?.onMount||a.some(t=>t?.errorMap?.onMount)),g=!!c;let y=o?.errors??[];r&&i.errorMap===r.errorMap||(y=Object.values(i.errorMap).reduce((t,e)=>void 0===e?t:e&&ws(e)?(t.push(e.form),t):(t.push(e),t),[]));const S=0===y.length,b=l&&S,M=this.options.canSubmitWhenInvalid??!1,w=0===i.submissionAttempts&&!u&&!v||!g&&!i.isSubmitting&&b||M;let _=i.errorMap;if(f&&(y=y.filter(t=>t!==i.errorMap.onMount),_=Object.assign(_,{onMount:void 0})),o&&r&&o.errorMap===_&&o.fieldMeta===this.fieldMetaDerived.state&&o.errors===y&&o.isFieldsValidating===c&&o.isFieldsValid===l&&o.isFormValid===S&&o.isValid===b&&o.canSubmit===w&&o.isTouched===u&&o.isBlurred===h&&o.isPristine===m&&o.isDefaultValue===d&&o.isDirty===p&&_s(r,i))return o;let L={...i,errorMap:_,fieldMeta:this.fieldMetaDerived.state,errors:y,isFieldsValidating:c,isFieldsValid:l,isFormValid:S,isValid:b,canSubmit:w,isTouched:u,isBlurred:h,isPristine:m,isDefaultValue:d,isDirty:p};const R=this.options.transform?.deps??[];if(R.length!==this.prevTransformArray.length||R.some((t,e)=>t!==this.prevTransformArray[e])){const t=Object.assign({},this,{state:L});this.options.transform?.fn(t),L=t.state,this.prevTransformArray=R}return L}}),this.handleSubmit=this.handleSubmit.bind(this),this.update(t||{}),this.store.subscribe(()=>{js.emit("form-state-change",{id:this._formId,state:this.store.state,options:this.options})}),js.on("request-form-state",t=>{t.payload.id===this._formId&&js.emit("form-state-change",{id:this._formId,state:this.store.state,options:this.options})}),js.on("request-form-reset",t=>{t.payload.id===this._formId&&this.reset()}),js.on("request-form-force-submit",t=>{t.payload.id===this._formId&&(this._devtoolsSubmissionOverride=!0,this.handleSubmit(),this._devtoolsSubmissionOverride=!1)})}get state(){return this.store.state}get formId(){return this._formId}runValidator(t){return Ts(t.validate)?Vs[t.type](t.value,t.validate):t.validate(t.value)}async handleSubmit(t){this.baseStore.setState(t=>({...t,isSubmitted:!1,submissionAttempts:t.submissionAttempts+1,isSubmitSuccessful:!1})),_(()=>{Object.values(this.fieldInfo).forEach(t=>{t.instance&&(t.instance.state.meta.isTouched||t.instance.setMeta(t=>({...t,isTouched:!0})))})});const e=t??this.options.onSubmitMeta;if(!this.state.canSubmit&&!this._devtoolsSubmissionOverride)return void this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:e});this.baseStore.setState(t=>({...t,isSubmitting:!0}));const s=()=>{this.baseStore.setState(t=>({...t,isSubmitting:!1}))};if(await this.validateAllFields("submit"),!this.state.isFieldsValid)return s(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:e}),void js.emit("form-submission-state-change",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validateAllFields",errors:Object.values(this.state.fieldMeta).map(t=>t.errors).flat()});if(await this.validate("submit"),!this.state.isValid)return s(),this.options.onSubmitInvalid?.({value:this.state.values,formApi:this,meta:e}),void js.emit("form-submission-state-change",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"validate",errors:this.state.errors});_(()=>{Object.values(this.fieldInfo).forEach(t=>{t.instance?.options.listeners?.onSubmit?.({value:t.instance.state.value,fieldApi:t.instance})})}),this.options.listeners?.onSubmit?.({formApi:this,meta:e});try{await(this.options.onSubmit?.({value:this.state.values,formApi:this,meta:e})),_(()=>{this.baseStore.setState(t=>({...t,isSubmitted:!0,isSubmitSuccessful:!0})),js.emit("form-submission-state-change",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!0}),s()})}catch(o){throw this.baseStore.setState(t=>({...t,isSubmitSuccessful:!1})),js.emit("form-submission-state-change",{id:this._formId,submissionAttempt:this.state.submissionAttempts,successful:!1,stage:"inflight",onError:o}),s(),o}}setErrorMap(t){_(()=>{Object.entries(t).forEach(([t,e])=>{const s=t;if(ws(e)){const{formError:t,fieldErrors:o}=Ds(e);for(const e of Object.keys(this.fieldInfo))this.getFieldMeta(e)&&this.setFieldMeta(e,t=>({...t,errorMap:{...t.errorMap,[s]:o?.[e]},errorSourceMap:{...t.errorSourceMap,[s]:"form"}}));this.baseStore.setState(e=>({...e,errorMap:{...e.errorMap,[s]:t}}))}else this.baseStore.setState(t=>({...t,errorMap:{...t.errorMap,[s]:e}}))})})}}function Ds(t){return t?ws(t)?{formError:Ds(t.form).formError,fieldErrors:t.fields}:{formError:t}:{formError:void 0}}function Ws(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}class Ns{constructor(t){this.options={},this.mount=()=>{const t=this.store.mount();void 0!==this.options.defaultValue&&this.form.setFieldValue(this.name,this.options.defaultValue,{dontUpdateMeta:!0}),this.getInfo().instance=this,this.update(this.options);const{onMount:e}=this.options.validators||{};if(e){const t=this.runValidator({validate:e,value:{value:this.state.value,fieldApi:this,validationSource:"field"},type:"validate"});t&&this.setMeta(e=>({...e,errorMap:{...e?.errorMap,onMount:t},errorSourceMap:{...e?.errorSourceMap,onMount:"field"}}))}return this.options.listeners?.onMount?.({value:this.state.value,fieldApi:this}),t},this.update=t=>{this.options=t;const e=this.name!==t.name;if(this.name=t.name,void 0===this.state.value){const s=ls(t.form.options.defaultValues,t.name),o=t.defaultValue??s;e?this.setValue(t=>t||o,{dontUpdateMeta:!0}):void 0!==o&&this.setValue(o,{dontUpdateMeta:!0})}void 0===this.form.getFieldMeta(this.name)&&this.setMeta(this.state.meta)},this.getValue=()=>this.form.getFieldValue(this.name),this.setValue=(t,e)=>{this.form.setFieldValue(this.name,t,Ps(e,{dontRunListeners:!0,dontValidate:!0})),e?.dontRunListeners||this.triggerOnChangeListener(),e?.dontValidate||this.validate("change")},this.getMeta=()=>this.store.state.meta,this.setMeta=t=>this.form.setFieldMeta(this.name,t),this.getInfo=()=>this.form.getFieldInfo(this.name),this.pushValue=(t,e)=>{this.form.pushFieldValue(this.name,t,Ps(e,{dontRunListeners:!0})),e?.dontRunListeners||this.triggerOnChangeListener()},this.insertValue=(t,e,s)=>{this.form.insertFieldValue(this.name,t,e,Ps(s,{dontRunListeners:!0})),s?.dontRunListeners||this.triggerOnChangeListener()},this.replaceValue=(t,e,s)=>{this.form.replaceFieldValue(this.name,t,e,Ps(s,{dontRunListeners:!0})),s?.dontRunListeners||this.triggerOnChangeListener()},this.removeValue=(t,e)=>{this.form.removeFieldValue(this.name,t,Ps(e,{dontRunListeners:!0})),e?.dontRunListeners||this.triggerOnChangeListener()},this.swapValues=(t,e,s)=>{this.form.swapFieldValues(this.name,t,e,Ps(s,{dontRunListeners:!0})),s?.dontRunListeners||this.triggerOnChangeListener()},this.moveValue=(t,e,s)=>{this.form.moveFieldValues(this.name,t,e,Ps(s,{dontRunListeners:!0})),s?.dontRunListeners||this.triggerOnChangeListener()},this.clearValues=t=>{this.form.clearFieldValues(this.name,Ps(t,{dontRunListeners:!0})),t?.dontRunListeners||this.triggerOnChangeListener()},this.getLinkedFields=t=>{const e=Object.values(this.form.fieldInfo),s=[];for(const o of e){if(!o.instance)continue;const{onChangeListenTo:e,onBlurListenTo:r}=o.instance.options.validators||{};"change"===t&&e?.includes(this.name)&&s.push(o.instance),"blur"===t&&r?.includes(this.name)&&s.push(o.instance)}return s},this.validateSync=(t,e)=>{const s=bs(t,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||Is}),o=this.getLinkedFields(t).reduce((e,s)=>{const o=bs(t,{...s.options,form:s.form,validationLogic:s.form.options.validationLogic||Is});return o.forEach(t=>{t.field=s}),e.concat(o)},[]);let r=!1;_(()=>{const t=(t,s)=>{const o=zs(s.cause),i=s.validate?Us(t.runValidator({validate:s.validate,value:{value:t.store.state.value,validationSource:"field",fieldApi:t},type:"validate"})):void 0,n=e[o],{newErrorValue:a,newSource:c}=Rs({formLevelError:n,fieldLevelError:i});t.state.meta.errorMap?.[o]!==a&&t.setMeta(t=>({...t,errorMap:{...t.errorMap,[o]:a},errorSourceMap:{...t.errorSourceMap,[o]:c}})),a&&(r=!0)};for(const e of s)t(this,e);for(const e of o)e.validate&&t(e.field,e)});const i=zs("submit");return this.state.meta.errorMap?.[i]&&"submit"!==t&&!r&&this.setMeta(t=>({...t,errorMap:{...t.errorMap,[i]:void 0},errorSourceMap:{...t.errorSourceMap,[i]:void 0}})),{hasErrored:r}},this.validateAsync=async(t,e)=>{const s=Ms(t,{...this.options,form:this.form,validationLogic:this.form.options.validationLogic||Is}),o=await e,r=this.getLinkedFields(t),i=r.reduce((e,s)=>{const o=Ms(t,{...s.options,form:s.form,validationLogic:s.form.options.validationLogic||Is});return o.forEach(t=>{t.field=s}),e.concat(o)},[]);this.state.meta.isValidating||this.setMeta(t=>({...t,isValidating:!0}));for(const u of r)u.setMeta(t=>({...t,isValidating:!0}));const n=[],a=[],c=(t,e,s)=>{const r=zs(e.cause),i=t.getInfo().validationMetaMap[r];i?.lastAbortController.abort();const n=new AbortController;this.getInfo().validationMetaMap[r]={lastAbortController:n},s.push(new Promise(async s=>{let i;try{i=await new Promise((s,o)=>{this.timeoutIds.validations[e.cause]&&clearTimeout(this.timeoutIds.validations[e.cause]),this.timeoutIds.validations[e.cause]=setTimeout(async()=>{if(n.signal.aborted)return s(void 0);try{s(await this.runValidator({validate:e.validate,value:{value:t.store.state.value,fieldApi:t,signal:n.signal,validationSource:"field"},type:"validateAsync"}))}catch(r){o(r)}},e.debounceMs)})}catch(h){i=h}if(n.signal.aborted)return s(void 0);const a=Us(i),c=o[this.name]?.[r],{newErrorValue:l,newSource:u}=Rs({formLevelError:c,fieldLevelError:a});t.setMeta(t=>({...t,errorMap:{...t?.errorMap,[r]:l},errorSourceMap:{...t.errorSourceMap,[r]:u}})),s(l)}))};for(const u of s)u.validate&&c(this,u,n);for(const u of i)u.validate&&c(u.field,u,a);let l=[];(n.length||a.length)&&(l=await Promise.all(n),await Promise.all(a)),this.setMeta(t=>({...t,isValidating:!1}));for(const u of r)u.setMeta(t=>({...t,isValidating:!1}));return l.filter(Boolean)},this.validate=(t,e)=>{if(!this.state.meta.isTouched)return[];const{fieldsErrorMap:s}=e?.skipFormValidation?{fieldsErrorMap:{}}:this.form.validateSync(t),{hasErrored:o}=this.validateSync(t,s[this.name]??{});if(o&&!this.options.asyncAlways)return this.getInfo().validationMetaMap[zs(t)]?.lastAbortController.abort(),this.state.meta.errors;const r=e?.skipFormValidation?Promise.resolve({}):this.form.validateAsync(t);return this.validateAsync(t,r)},this.handleChange=t=>{this.setValue(t)},this.handleBlur=()=>{this.state.meta.isTouched||this.setMeta(t=>({...t,isTouched:!0})),this.state.meta.isBlurred||this.setMeta(t=>({...t,isBlurred:!0})),this.validate("blur"),this.triggerOnBlurListener()},this.parseValueWithSchema=t=>Vs.validate({value:this.state.value,validationSource:"field"},t),this.parseValueWithSchemaAsync=t=>Vs.validateAsync({value:this.state.value,validationSource:"field"},t),this.form=t.form,this.name=t.name,this.timeoutIds={validations:{},listeners:{},formListeners:{}},this.store=new R({deps:[this.form.store],fn:()=>({value:this.form.getFieldValue(this.name),meta:this.form.getFieldMeta(this.name)??{...As,...t.defaultMeta}})}),this.options=t}get state(){return this.store.state}runValidator(t){return Ts(t.validate)?Vs[t.type](t.value,t.validate):t.validate(t.value)}setErrorMap(t){this.setMeta(e=>({...e,errorMap:{...e.errorMap,...t}}))}triggerOnBlurListener(){const t=this.form.options.listeners?.onBlurDebounceMs;t&&t>0?(this.timeoutIds.formListeners.blur&&clearTimeout(this.timeoutIds.formListeners.blur),this.timeoutIds.formListeners.blur=setTimeout(()=>{this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this})},t)):this.form.options.listeners?.onBlur?.({formApi:this.form,fieldApi:this});const e=this.options.listeners?.onBlurDebounceMs;e&&e>0?(this.timeoutIds.listeners.blur&&clearTimeout(this.timeoutIds.listeners.blur),this.timeoutIds.listeners.blur=setTimeout(()=>{this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})},e)):this.options.listeners?.onBlur?.({value:this.state.value,fieldApi:this})}triggerOnChangeListener(){const t=this.form.options.listeners?.onChangeDebounceMs;t&&t>0?(this.timeoutIds.formListeners.change&&clearTimeout(this.timeoutIds.formListeners.change),this.timeoutIds.formListeners.change=setTimeout(()=>{this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this})},t)):this.form.options.listeners?.onChange?.({formApi:this.form,fieldApi:this});const e=this.options.listeners?.onChangeDebounceMs;e&&e>0?(this.timeoutIds.listeners.change&&clearTimeout(this.timeoutIds.listeners.change),this.timeoutIds.listeners.change=setTimeout(()=>{this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})},e)):this.options.listeners?.onChange?.({value:this.state.value,fieldApi:this})}}function Us(t){if(t)return t}function zs(t){switch(t){case"submit":return"onSubmit";case"blur":return"onBlur";case"mount":return"onMount";case"server":return"onServer";case"dynamic":return"onDynamic";default:return"onChange"}}const Ks="undefined"!=typeof window?l.useLayoutEffect:l.useEffect,Hs=({children:t,...e})=>{const s=function(t){const[e]=l.useState(()=>{const e=new Ns({...t,form:t.form,name:t.name});return e.Field=Hs,e});return Ks(e.mount,[e]),Ks(()=>{e.update(t)}),le(e.store,"array"===t.mode?t=>[t.meta,Object.keys(t.value??[]).length]:void 0),e}(e),o=l.useMemo(()=>cs(t,s),[t,s,s.state.value,s.state.meta]);return c.jsx(c.Fragment,{children:o})};function Gs({form:t,selector:e,children:s}){return cs(s,le(t.store,e))}function qs(t){const[e]=l.useState(()=>{const e=new Bs(t),s=e;return s.Field=function(t){return c.jsx(Hs,{...t,form:e})},s.Subscribe=function(t){return c.jsx(Gs,{form:e,selector:t.selector,children:t.children})},s});return Ks(e.mount,[]),Ks(()=>{e.update(t)}),e}export{Oe as L,ts as O,h as R,Le as a,Re as b,u as c,Be as d,De as e,ae as f,_e as g,qs as h,U as i,c as j,os as k,ns as l,l as r,as as u};
